(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function t(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(a){if(a.ep)return;a.ep=!0;const i=t(a);fetch(a.href,i)}})();const ii="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(ii);let Te=!1,si=!1;function ai(){Te=!0}ai();const oi=1,li=2,fi=16,ui=2,ci=4,hi=8,di=1,pi=2,kt=Symbol(),_i="http://www.w3.org/1999/xhtml",mr=!1;var Ir=Array.isArray,vi=Array.prototype.indexOf,or=Array.from,_n=Object.defineProperty,ke=Object.getOwnPropertyDescriptor,vn=Object.getOwnPropertyDescriptors,mi=Object.prototype,gi=Array.prototype,zr=Object.getPrototypeOf,Gr=Object.isExtensible;const xe=()=>{};function wi(e){return e()}function gr(e){for(var r=0;r<e.length;r++)e[r]()}function mn(){var e,r,t=new Promise((l,a)=>{e=l,r=a});return{promise:t,resolve:e,reject:r}}const yt=2,gn=4,lr=8,bi=1<<24,Jt=16,Qt=32,pe=64,fr=128,Ut=512,wt=1024,Ot=2048,Mt=4096,Bt=8192,Vt=16384,Or=32768,Ae=65536,$r=1<<17,wn=1<<18,Re=1<<19,bn=1<<20,ne=1<<25,ce=32768,wr=1<<21,Tr=1<<22,ie=1<<23,Se=Symbol("$state"),yi=Symbol("legacy props"),ki=Symbol(""),we=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Rr(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function xi(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Si(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ei(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ai(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Ci(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ii(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function zi(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Oi(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ti(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Ri(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function Bi(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function yn(e){return e===this.v}function kn(e,r){return e!=e?r==r:e!==r||e!==null&&typeof e=="object"||typeof e=="function"}function xn(e){return!kn(e,this.v)}let vt=null;function Ce(e){vt=e}function ur(e,r=!1,t){vt={p:vt,i:!1,c:null,e:null,s:e,x:null,l:Te&&!r?{s:null,u:null,$:[]}:null}}function cr(e){var r=vt,t=r.e;if(t!==null){r.e=null;for(var l of t)Pn(l)}return r.i=!0,vt=r.p,{}}function qe(){return!Te||vt!==null&&vt.l===null}let be=[];function Di(){var e=be;be=[],gr(e)}function hr(e){if(be.length===0){var r=be;queueMicrotask(()=>{r===be&&Di()})}be.push(e)}function Sn(e){var r=ht;if(r===null)return ot.f|=ie,e;if((r.f&Or)===0){if((r.f&fr)===0)throw e;r.b.error(e)}else Ie(e,r)}function Ie(e,r){for(;r!==null;){if((r.f&fr)!==0)try{r.b.error(e);return}catch(t){e=t}r=r.parent}throw e}const Ke=new Set;let mt=null,Lt=null,Wt=[],Br=null,br=!1;class Zt{committed=!1;current=new Map;previous=new Map;#t=new Set;#e=new Set;#n=0;#r=0;#l=null;#s=new Set;#i=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#r>0}process(r){Wt=[],this.apply();var t={parent:null,effect:null,effects:[],render_effects:[]};for(const l of r)this.#a(l,t);this.is_fork||this.#u(),this.is_deferred()?(this.#o(t.effects),this.#o(t.render_effects)):(mt=null,Kr(t.render_effects),Kr(t.effects),this.#l?.resolve()),Lt=null}#a(r,t){r.f^=wt;for(var l=r.first;l!==null;){var a=l.f,i=(a&(Qt|pe))!==0,o=i&&(a&wt)!==0,n=o||(a&Bt)!==0||this.skipped_effects.has(l);if((l.f&fr)!==0&&l.b?.is_pending()&&(t={parent:t,effect:l,effects:[],render_effects:[]}),!n&&l.fn!==null){i?l.f^=wt:(a&gn)!==0?t.effects.push(l):Be(l)&&((l.f&Jt)!==0&&this.#s.add(l),Oe(l));var f=l.first;if(f!==null){l=f;continue}}var h=l.parent;for(l=l.next;l===null&&h!==null;)h===t.effect&&(this.#o(t.effects),this.#o(t.render_effects),t=t.parent),l=h.next,h=h.parent}}#o(r){for(const t of r)(t.f&Ot)!==0?this.#s.add(t):(t.f&Mt)!==0&&this.#i.add(t),this.#f(t.deps),bt(t,wt)}#f(r){if(r!==null)for(const t of r)(t.f&yt)===0||(t.f&ce)===0||(t.f^=ce,this.#f(t.deps))}capture(r,t){this.previous.has(r)||this.previous.set(r,t),(r.f&ie)===0&&(this.current.set(r,r.v),Lt?.set(r,r.v))}activate(){mt=this,this.apply()}deactivate(){mt===this&&(mt=null,Lt=null)}flush(){if(this.activate(),Wt.length>0){if(Ni(),mt!==null&&mt!==this)return}else this.#n===0&&this.process([]);this.deactivate()}discard(){for(const r of this.#e)r(this);this.#e.clear()}#u(){if(this.#r===0){for(const r of this.#t)r();this.#t.clear()}this.#n===0&&this.#c()}#c(){if(Ke.size>1){this.previous.clear();var r=Lt,t=!0,l={parent:null,effect:null,effects:[],render_effects:[]};for(const i of Ke){if(i===this){t=!1;continue}const o=[];for(const[f,h]of this.current){if(i.current.has(f))if(t&&h!==i.current.get(f))i.current.set(f,h);else continue;o.push(f)}if(o.length===0)continue;const n=[...i.current.keys()].filter(f=>!this.current.has(f));if(n.length>0){var a=Wt;Wt=[];const f=new Set,h=new Map;for(const b of o)En(b,n,f,h);if(Wt.length>0){mt=i,i.apply();for(const b of Wt)i.#a(b,l);i.deactivate()}Wt=a}}mt=null,Lt=r}this.committed=!0,Ke.delete(this)}increment(r){this.#n+=1,r&&(this.#r+=1)}decrement(r){this.#n-=1,r&&(this.#r-=1),this.revive()}revive(){for(const r of this.#s)this.#i.delete(r),bt(r,Ot),he(r);for(const r of this.#i)bt(r,Mt),he(r);this.flush()}oncommit(r){this.#t.add(r)}ondiscard(r){this.#e.add(r)}settled(){return(this.#l??=mn()).promise}static ensure(){if(mt===null){const r=mt=new Zt;Ke.add(mt),Zt.enqueue(()=>{mt===r&&r.flush()})}return mt}static enqueue(r){hr(r)}apply(){}}function Ni(){var e=fe;br=!0;var r=null;try{var t=0;for(ir(!0);Wt.length>0;){var l=Zt.ensure();if(t++>1e3){var a,i;Pi()}l.process(Wt),se.clear()}}finally{br=!1,ir(e),Br=null}}function Pi(){try{Ci()}catch(e){Ie(e,Br)}}let Kt=null;function Kr(e){var r=e.length;if(r!==0){for(var t=0;t<r;){var l=e[t++];if((l.f&(Vt|Bt))===0&&Be(l)&&(Kt=new Set,Oe(l),l.deps===null&&l.first===null&&l.nodes===null&&(l.teardown===null&&l.ac===null?Un(l):l.fn=null),Kt?.size>0)){se.clear();for(const a of Kt){if((a.f&(Vt|Bt))!==0)continue;const i=[a];let o=a.parent;for(;o!==null;)Kt.has(o)&&(Kt.delete(o),i.push(o)),o=o.parent;for(let n=i.length-1;n>=0;n--){const f=i[n];(f.f&(Vt|Bt))===0&&Oe(f)}}Kt.clear()}}Kt=null}}function En(e,r,t,l){if(!t.has(e)&&(t.add(e),e.reactions!==null))for(const a of e.reactions){const i=a.f;(i&yt)!==0?En(a,r,t,l):(i&(Tr|Jt))!==0&&(i&Ot)===0&&An(a,r,l)&&(bt(a,Ot),he(a))}}function An(e,r,t){const l=t.get(e);if(l!==void 0)return l;if(e.deps!==null)for(const a of e.deps){if(r.includes(a))return!0;if((a.f&yt)!==0&&An(a,r,t))return t.set(a,!0),!0}return t.set(e,!1),!1}function he(e){for(var r=Br=e;r.parent!==null;){r=r.parent;var t=r.f;if(br&&r===ht&&(t&Jt)!==0&&(t&wn)===0)return;if((t&(pe|Qt))!==0){if((t&wt)===0)return;r.f^=wt}}Wt.push(r)}function Fi(e){let r=0,t=de(0),l;return()=>{We()&&(D(t),Mr(()=>(r===0&&(l=lt(()=>e(()=>Me(t)))),r+=1,()=>{hr(()=>{r-=1,r===0&&(l?.(),l=void 0,Me(t))})})))}}var Li=Ae|Re|fr;function Ui(e,r,t){new Mi(e,r,t)}class Mi{parent;#t=!1;#e;#n=null;#r;#l;#s;#i=null;#a=null;#o=null;#f=null;#u=null;#c=0;#h=0;#p=!1;#d=null;#w=Fi(()=>(this.#d=de(this.#c),()=>{this.#d=null}));constructor(r,t,l){this.#e=r,this.#r=t,this.#l=l,this.parent=ht.b,this.#t=!!this.#r.pending,this.#s=jr(()=>{ht.b=this;{var a=this.#m();try{this.#i=Ft(()=>l(a))}catch(i){this.error(i)}this.#h>0?this.#v():this.#t=!1}return()=>{this.#u?.remove()}},Li)}#b(){try{this.#i=Ft(()=>this.#l(this.#e))}catch(r){this.error(r)}this.#t=!1}#y(){const r=this.#r.pending;r&&(this.#a=Ft(()=>r(this.#e)),Zt.enqueue(()=>{var t=this.#m();this.#i=this.#_(()=>(Zt.ensure(),Ft(()=>this.#l(t)))),this.#h>0?this.#v():(le(this.#a,()=>{this.#a=null}),this.#t=!1)}))}#m(){var r=this.#e;return this.#t&&(this.#u=Yt(),this.#e.before(this.#u),r=this.#u),r}is_pending(){return this.#t||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#r.pending}#_(r){var t=ht,l=ot,a=vt;Ht(this.#s),It(this.#s),Ce(this.#s.ctx);try{return r()}catch(i){return Sn(i),null}finally{Ht(t),It(l),Ce(a)}}#v(){const r=this.#r.pending;this.#i!==null&&(this.#f=document.createDocumentFragment(),this.#f.append(this.#u),Wn(this.#i,this.#f)),this.#a===null&&(this.#a=Ft(()=>r(this.#e)))}#g(r){if(!this.has_pending_snippet()){this.parent&&this.parent.#g(r);return}this.#h+=r,this.#h===0&&(this.#t=!1,this.#a&&le(this.#a,()=>{this.#a=null}),this.#f&&(this.#e.before(this.#f),this.#f=null))}update_pending_count(r){this.#g(r),this.#c+=r,this.#d&&ze(this.#d,this.#c)}get_effect_pending(){return this.#w(),D(this.#d)}error(r){var t=this.#r.onerror;let l=this.#r.failed;if(this.#p||!t&&!l)throw r;this.#i&&(zt(this.#i),this.#i=null),this.#a&&(zt(this.#a),this.#a=null),this.#o&&(zt(this.#o),this.#o=null);var a=!1,i=!1;const o=()=>{if(a){Bi();return}a=!0,i&&Ri(),Zt.ensure(),this.#c=0,this.#o!==null&&le(this.#o,()=>{this.#o=null}),this.#t=this.has_pending_snippet(),this.#i=this.#_(()=>(this.#p=!1,Ft(()=>this.#l(this.#e)))),this.#h>0?this.#v():this.#t=!1};var n=ot;try{It(null),i=!0,t?.(r,o),i=!1}catch(f){Ie(f,this.#s&&this.#s.parent)}finally{It(n)}l&&hr(()=>{this.#o=this.#_(()=>{Zt.ensure(),this.#p=!0;try{return Ft(()=>{l(this.#e,()=>r,()=>o)})}catch(f){return Ie(f,this.#s.parent),null}finally{this.#p=!1}})})}}function ji(e,r,t,l){const a=qe()?Dr:Ee;if(t.length===0&&e.length===0){l(r.map(a));return}var i=mt,o=ht,n=Wi();function f(){Promise.all(t.map(h=>Zi(h))).then(h=>{n();try{l([...r.map(a),...h])}catch(b){(o.f&Vt)===0&&Ie(b,o)}i?.deactivate(),rr()}).catch(h=>{Ie(h,o)})}e.length>0?Promise.all(e).then(()=>{n();try{return f()}finally{i?.deactivate(),rr()}}):f()}function Wi(){var e=ht,r=ot,t=vt,l=mt;return function(i=!0){Ht(e),It(r),Ce(t),i&&l?.activate()}}function rr(){Ht(null),It(null),Ce(null)}function Dr(e){var r=yt|Ot,t=ot!==null&&(ot.f&yt)!==0?ot:null;return ht!==null&&(ht.f|=Re),{ctx:vt,deps:null,effects:null,equals:yn,f:r,fn:e,reactions:null,rv:0,v:kt,wv:0,parent:t??ht,ac:null}}function Zi(e,r){let t=ht;t===null&&xi();var l=t.b,a=void 0,i=de(kt),o=!ot,n=new Map;return Xi(()=>{var f=mn();a=f.promise;try{Promise.resolve(e()).then(f.resolve,f.reject).then(()=>{h===mt&&h.committed&&h.deactivate(),rr()})}catch(m){f.reject(m),rr()}var h=mt;if(o){var b=!l.is_pending();l.update_pending_count(1),h.increment(b),n.get(h)?.reject(we),n.delete(h),n.set(h,f)}const v=(m,c=void 0)=>{if(h.activate(),c)c!==we&&(i.f|=ie,ze(i,c));else{(i.f&ie)!==0&&(i.f^=ie),ze(i,m);for(const[p,d]of n){if(n.delete(p),p===h)break;d.reject(we)}}o&&(l.update_pending_count(-1),h.decrement(b))};f.promise.then(v,m=>v(null,m||"unknown"))}),Fr(()=>{for(const f of n.values())f.reject(we)}),new Promise(f=>{function h(b){function v(){b===a?f(i):h(a)}b.then(v,v)}h(a)})}function Ee(e){const r=Dr(e);return r.equals=xn,r}function Cn(e){var r=e.effects;if(r!==null){e.effects=null;for(var t=0;t<r.length;t+=1)zt(r[t])}}function qi(e){for(var r=e.parent;r!==null;){if((r.f&yt)===0)return(r.f&Vt)===0?r:null;r=r.parent}return null}function Nr(e){var r,t=ht;Ht(qi(e));try{e.f&=~ce,Cn(e),r=Gn(e)}finally{Ht(t)}return r}function In(e){var r=Nr(e);if(e.equals(r)||(mt?.is_fork||(e.v=r),e.wv=qn()),!_e)if(Lt!==null)(We()||mt?.is_fork)&&Lt.set(e,r);else{var t=(e.f&Ut)===0?Mt:wt;bt(e,t)}}let yr=new Set;const se=new Map;let zn=!1;function de(e,r){var t={f:0,v:e,reactions:null,equals:yn,rv:0,wv:0};return t}function ee(e,r){const t=de(e);return ts(t),t}function xt(e,r=!1,t=!0){const l=de(e);return r||(l.equals=xn),Te&&t&&vt!==null&&vt.l!==null&&(vt.l.s??=[]).push(l),l}function _r(e,r){return at(e,lt(()=>D(e))),r}function at(e,r,t=!1){ot!==null&&(!qt||(ot.f&$r)!==0)&&qe()&&(ot.f&(yt|Jt|Tr|$r))!==0&&!Xt?.includes(e)&&Ti();let l=t?ye(r):r;return ze(e,l)}function ze(e,r){if(!e.equals(r)){var t=e.v;_e?se.set(e,r):se.set(e,t),e.v=r;var l=Zt.ensure();l.capture(e,t),(e.f&yt)!==0&&((e.f&Ot)!==0&&Nr(e),bt(e,(e.f&Ut)!==0?wt:Mt)),e.wv=qn(),On(e,Ot),qe()&&ht!==null&&(ht.f&wt)!==0&&(ht.f&(Qt|pe))===0&&(Nt===null?es([e]):Nt.push(e)),!l.is_fork&&yr.size>0&&!zn&&Hi()}return r}function Hi(){zn=!1;var e=fe;ir(!0);const r=Array.from(yr);try{for(const t of r)(t.f&wt)!==0&&bt(t,Mt),Be(t)&&Oe(t)}finally{ir(e)}yr.clear()}function Me(e){at(e,e.v+1)}function On(e,r){var t=e.reactions;if(t!==null)for(var l=qe(),a=t.length,i=0;i<a;i++){var o=t[i],n=o.f;if(!(!l&&o===ht)){var f=(n&Ot)===0;if(f&&bt(o,r),(n&yt)!==0){var h=o;Lt?.delete(h),(n&ce)===0&&(n&Ut&&(o.f|=ce),On(h,Mt))}else f&&((n&Jt)!==0&&Kt!==null&&Kt.add(o),he(o))}}}function ye(e){if(typeof e!="object"||e===null||Se in e)return e;const r=zr(e);if(r!==mi&&r!==gi)return e;var t=new Map,l=Ir(e),a=ee(0),i=ue,o=n=>{if(ue===i)return n();var f=ot,h=ue;It(null),Yr(i);var b=n();return It(f),Yr(h),b};return l&&t.set("length",ee(e.length)),new Proxy(e,{defineProperty(n,f,h){(!("value"in h)||h.configurable===!1||h.enumerable===!1||h.writable===!1)&&zi();var b=t.get(f);return b===void 0?b=o(()=>{var v=ee(h.value);return t.set(f,v),v}):at(b,h.value,!0),!0},deleteProperty(n,f){var h=t.get(f);if(h===void 0){if(f in n){const b=o(()=>ee(kt));t.set(f,b),Me(a)}}else at(h,kt),Me(a);return!0},get(n,f,h){if(f===Se)return e;var b=t.get(f),v=f in n;if(b===void 0&&(!v||ke(n,f)?.writable)&&(b=o(()=>{var c=ye(v?n[f]:kt),p=ee(c);return p}),t.set(f,b)),b!==void 0){var m=D(b);return m===kt?void 0:m}return Reflect.get(n,f,h)},getOwnPropertyDescriptor(n,f){var h=Reflect.getOwnPropertyDescriptor(n,f);if(h&&"value"in h){var b=t.get(f);b&&(h.value=D(b))}else if(h===void 0){var v=t.get(f),m=v?.v;if(v!==void 0&&m!==kt)return{enumerable:!0,configurable:!0,value:m,writable:!0}}return h},has(n,f){if(f===Se)return!0;var h=t.get(f),b=h!==void 0&&h.v!==kt||Reflect.has(n,f);if(h!==void 0||ht!==null&&(!b||ke(n,f)?.writable)){h===void 0&&(h=o(()=>{var m=b?ye(n[f]):kt,c=ee(m);return c}),t.set(f,h));var v=D(h);if(v===kt)return!1}return b},set(n,f,h,b){var v=t.get(f),m=f in n;if(l&&f==="length")for(var c=h;c<v.v;c+=1){var p=t.get(c+"");p!==void 0?at(p,kt):c in n&&(p=o(()=>ee(kt)),t.set(c+"",p))}if(v===void 0)(!m||ke(n,f)?.writable)&&(v=o(()=>ee(void 0)),at(v,ye(h)),t.set(f,v));else{m=v.v!==kt;var d=o(()=>ye(h));at(v,d)}var g=Reflect.getOwnPropertyDescriptor(n,f);if(g?.set&&g.set.call(b,h),!m){if(l&&typeof f=="string"){var _=t.get("length"),y=Number(f);Number.isInteger(y)&&y>=_.v&&at(_,y+1)}Me(a)}return!0},ownKeys(n){D(a);var f=Reflect.ownKeys(n).filter(v=>{var m=t.get(v);return m===void 0||m.v!==kt});for(var[h,b]of t)b.v!==kt&&!(h in n)&&f.push(h);return f},setPrototypeOf(){Oi()}})}var kr,Tn,Rn,Bn;function Gi(){if(kr===void 0){kr=window,Tn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,r=Node.prototype,t=Text.prototype;Rn=ke(r,"firstChild").get,Bn=ke(r,"nextSibling").get,Gr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Gr(t)&&(t.__t=void 0)}}function Yt(e=""){return document.createTextNode(e)}function nr(e){return Rn.call(e)}function He(e){return Bn.call(e)}function it(e,r){return nr(e)}function Fe(e,r=!1){{var t=nr(e);return t instanceof Comment&&t.data===""?He(t):t}}function _t(e,r=1,t=!1){let l=e;for(;r--;)l=He(l);return l}function $i(e){e.textContent=""}function Dn(){return!1}function Pr(e){var r=ot,t=ht;It(null),Ht(null);try{return e()}finally{It(r),Ht(t)}}function Nn(e){ht===null&&(ot===null&&Ai(),Ei()),_e&&Si()}function Ki(e,r){var t=r.last;t===null?r.last=r.first=e:(t.next=e,e.prev=t,r.last=e)}function te(e,r,t){var l=ht;l!==null&&(l.f&Bt)!==0&&(e|=Bt);var a={ctx:vt,deps:null,nodes:null,f:e|Ot|Ut,first:null,fn:r,last:null,next:null,parent:l,b:l&&l.b,prev:null,teardown:null,wv:0,ac:null};if(t)try{Oe(a),a.f|=Or}catch(n){throw zt(a),n}else r!==null&&he(a);var i=a;if(t&&i.deps===null&&i.teardown===null&&i.nodes===null&&i.first===i.last&&(i.f&Re)===0&&(i=i.first,(e&Jt)!==0&&(e&Ae)!==0&&i!==null&&(i.f|=Ae)),i!==null&&(i.parent=l,l!==null&&Ki(i,l),ot!==null&&(ot.f&yt)!==0&&(e&pe)===0)){var o=ot;(o.effects??=[]).push(i)}return a}function We(){return ot!==null&&!qt}function Fr(e){const r=te(lr,null,!1);return bt(r,wt),r.teardown=e,r}function xr(e){Nn();var r=ht.f,t=!ot&&(r&Qt)!==0&&(r&Or)===0;if(t){var l=vt;(l.e??=[]).push(e)}else return Pn(e)}function Pn(e){return te(gn|bn,e,!1)}function Vi(e){return Nn(),te(lr|bn,e,!0)}function Yi(e){Zt.ensure();const r=te(pe|Re,e,!0);return(t={})=>new Promise(l=>{t.outro?le(r,()=>{zt(r),l(void 0)}):(zt(r),l(void 0))})}function Lr(e,r){var t=vt,l={effect:null,ran:!1,deps:e};t.l.$.push(l),l.effect=Mr(()=>{e(),!l.ran&&(l.ran=!0,lt(r))})}function Ur(){var e=vt;Mr(()=>{for(var r of e.l.$){r.deps();var t=r.effect;(t.f&wt)!==0&&bt(t,Mt),Be(t)&&Oe(t),r.ran=!1}})}function Xi(e){return te(Tr|Re,e,!0)}function Mr(e,r=0){return te(lr|r,e,!0)}function oe(e,r=[],t=[],l=[]){ji(l,r,t,a=>{te(lr,()=>e(...a.map(D)),!0)})}function jr(e,r=0){var t=te(Jt|r,e,!0);return t}function Ft(e){return te(Qt|Re,e,!0)}function Fn(e){var r=e.teardown;if(r!==null){const t=_e,l=ot;Vr(!0),It(null);try{r.call(null)}finally{Vr(t),It(l)}}}function Ln(e,r=!1){var t=e.first;for(e.first=e.last=null;t!==null;){const a=t.ac;a!==null&&Pr(()=>{a.abort(we)});var l=t.next;(t.f&pe)!==0?t.parent=null:zt(t,r),t=l}}function Ji(e){for(var r=e.first;r!==null;){var t=r.next;(r.f&Qt)===0&&zt(r),r=t}}function zt(e,r=!0){var t=!1;(r||(e.f&wn)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Qi(e.nodes.start,e.nodes.end),t=!0),Ln(e,r&&!t),sr(e,0),bt(e,Vt);var l=e.nodes&&e.nodes.t;if(l!==null)for(const i of l)i.stop();Fn(e);var a=e.parent;a!==null&&a.first!==null&&Un(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Qi(e,r){for(;e!==null;){var t=e===r?null:He(e);e.remove(),e=t}}function Un(e){var r=e.parent,t=e.prev,l=e.next;t!==null&&(t.next=l),l!==null&&(l.prev=t),r!==null&&(r.first===e&&(r.first=l),r.last===e&&(r.last=t))}function le(e,r,t=!0){var l=[];Mn(e,l,!0);var a=()=>{t&&zt(e),r&&r()},i=l.length;if(i>0){var o=()=>--i||a();for(var n of l)n.out(o)}else a()}function Mn(e,r,t){if((e.f&Bt)===0){e.f^=Bt;var l=e.nodes&&e.nodes.t;if(l!==null)for(const n of l)(n.is_global||t)&&r.push(n);for(var a=e.first;a!==null;){var i=a.next,o=(a.f&Ae)!==0||(a.f&Qt)!==0&&(e.f&Jt)!==0;Mn(a,r,o?t:!1),a=i}}}function Wr(e){jn(e,!0)}function jn(e,r){if((e.f&Bt)!==0){e.f^=Bt,(e.f&wt)===0&&(bt(e,Ot),he(e));for(var t=e.first;t!==null;){var l=t.next,a=(t.f&Ae)!==0||(t.f&Qt)!==0;jn(t,a?r:!1),t=l}var i=e.nodes&&e.nodes.t;if(i!==null)for(const o of i)(o.is_global||r)&&o.in()}}function Wn(e,r){if(e.nodes)for(var t=e.nodes.start,l=e.nodes.end;t!==null;){var a=t===l?null:He(t);r.append(t),t=a}}let fe=!1;function ir(e){fe=e}let _e=!1;function Vr(e){_e=e}let ot=null,qt=!1;function It(e){ot=e}let ht=null;function Ht(e){ht=e}let Xt=null;function ts(e){ot!==null&&(Xt===null?Xt=[e]:Xt.push(e))}let St=null,Tt=0,Nt=null;function es(e){Nt=e}let Zn=1,Ze=0,ue=Ze;function Yr(e){ue=e}function qn(){return++Zn}function Be(e){var r=e.f;if((r&Ot)!==0)return!0;if(r&yt&&(e.f&=~ce),(r&Mt)!==0){var t=e.deps;if(t!==null)for(var l=t.length,a=0;a<l;a++){var i=t[a];if(Be(i)&&In(i),i.wv>e.wv)return!0}(r&Ut)!==0&&Lt===null&&bt(e,wt)}return!1}function Hn(e,r,t=!0){var l=e.reactions;if(l!==null&&!Xt?.includes(e))for(var a=0;a<l.length;a++){var i=l[a];(i.f&yt)!==0?Hn(i,r,!1):r===i&&(t?bt(i,Ot):(i.f&wt)!==0&&bt(i,Mt),he(i))}}function Gn(e){var r=St,t=Tt,l=Nt,a=ot,i=Xt,o=vt,n=qt,f=ue,h=e.f;St=null,Tt=0,Nt=null,ot=(h&(Qt|pe))===0?e:null,Xt=null,Ce(e.ctx),qt=!1,ue=++Ze,e.ac!==null&&(Pr(()=>{e.ac.abort(we)}),e.ac=null);try{e.f|=wr;var b=e.fn,v=b(),m=e.deps;if(St!==null){var c;if(sr(e,Tt),m!==null&&Tt>0)for(m.length=Tt+St.length,c=0;c<St.length;c++)m[Tt+c]=St[c];else e.deps=m=St;if(We()&&(e.f&Ut)!==0)for(c=Tt;c<m.length;c++)(m[c].reactions??=[]).push(e)}else m!==null&&Tt<m.length&&(sr(e,Tt),m.length=Tt);if(qe()&&Nt!==null&&!qt&&m!==null&&(e.f&(yt|Mt|Ot))===0)for(c=0;c<Nt.length;c++)Hn(Nt[c],e);return a!==null&&a!==e&&(Ze++,Nt!==null&&(l===null?l=Nt:l.push(...Nt))),(e.f&ie)!==0&&(e.f^=ie),v}catch(p){return Sn(p)}finally{e.f^=wr,St=r,Tt=t,Nt=l,ot=a,Xt=i,Ce(o),qt=n,ue=f}}function rs(e,r){let t=r.reactions;if(t!==null){var l=vi.call(t,e);if(l!==-1){var a=t.length-1;a===0?t=r.reactions=null:(t[l]=t[a],t.pop())}}t===null&&(r.f&yt)!==0&&(St===null||!St.includes(r))&&(bt(r,Mt),(r.f&Ut)!==0&&(r.f^=Ut,r.f&=~ce),Cn(r),sr(r,0))}function sr(e,r){var t=e.deps;if(t!==null)for(var l=r;l<t.length;l++)rs(e,t[l])}function Oe(e){var r=e.f;if((r&Vt)===0){bt(e,wt);var t=ht,l=fe;ht=e,fe=!0;try{(r&(Jt|bi))!==0?Ji(e):Ln(e),Fn(e);var a=Gn(e);e.teardown=typeof a=="function"?a:null,e.wv=Zn;var i;mr&&si&&(e.f&Ot)!==0&&e.deps}finally{fe=l,ht=t}}}function D(e){var r=e.f,t=(r&yt)!==0;if(ot!==null&&!qt){var l=ht!==null&&(ht.f&Vt)!==0;if(!l&&!Xt?.includes(e)){var a=ot.deps;if((ot.f&wr)!==0)e.rv<Ze&&(e.rv=Ze,St===null&&a!==null&&a[Tt]===e?Tt++:St===null?St=[e]:St.includes(e)||St.push(e));else{(ot.deps??=[]).push(e);var i=e.reactions;i===null?e.reactions=[ot]:i.includes(ot)||i.push(ot)}}}if(_e){if(se.has(e))return se.get(e);if(t){var o=e,n=o.v;return((o.f&wt)===0&&o.reactions!==null||Kn(o))&&(n=Nr(o)),se.set(o,n),n}}else t&&(!Lt?.has(e)||mt?.is_fork&&!We())&&(o=e,Be(o)&&In(o),fe&&We()&&(o.f&Ut)===0&&$n(o));if(Lt?.has(e))return Lt.get(e);if((e.f&ie)!==0)throw e.v;return e.v}function $n(e){if(e.deps!==null){e.f^=Ut;for(const r of e.deps)(r.reactions??=[]).push(e),(r.f&yt)!==0&&(r.f&Ut)===0&&$n(r)}}function Kn(e){if(e.v===kt)return!0;if(e.deps===null)return!1;for(const r of e.deps)if(se.has(r)||(r.f&yt)!==0&&Kn(r))return!0;return!1}function lt(e){var r=qt;try{return qt=!0,e()}finally{qt=r}}const ns=-7169;function bt(e,r){e.f=e.f&ns|r}function $t(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Se in e)Sr(e);else if(!Array.isArray(e))for(let r in e){const t=e[r];typeof t=="object"&&t&&Se in t&&Sr(t)}}}function Sr(e,r=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!r.has(e)){r.add(e),e instanceof Date&&e.getTime();for(let l in e)try{Sr(e[l],r)}catch{}const t=zr(e);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const l=vn(t);for(let a in l){const i=l[a].get;if(i)try{i.call(e)}catch{}}}}}const is=new Set,Xr=new Set;function ss(e,r,t,l={}){function a(i){if(l.capture||Le.call(r,i),!i.cancelBubble)return Pr(()=>t?.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?hr(()=>{r.addEventListener(e,a,l)}):r.addEventListener(e,a,l),a}function Rt(e,r,t,l,a){var i={capture:l,passive:a},o=ss(e,r,t,i);(r===document.body||r===window||r===document||r instanceof HTMLMediaElement)&&Fr(()=>{r.removeEventListener(e,o,i)})}let Jr=null;function Le(e){var r=this,t=r.ownerDocument,l=e.type,a=e.composedPath?.()||[],i=a[0]||e.target;Jr=e;var o=0,n=Jr===e&&e.__root;if(n){var f=a.indexOf(n);if(f!==-1&&(r===document||r===window)){e.__root=r;return}var h=a.indexOf(r);if(h===-1)return;f<=h&&(o=f)}if(i=a[o]||e.target,i!==r){_n(e,"currentTarget",{configurable:!0,get(){return i||t}});var b=ot,v=ht;It(null),Ht(null);try{for(var m,c=[];i!==null;){var p=i.assignedSlot||i.parentNode||i.host||null;try{var d=i["__"+l];d!=null&&(!i.disabled||e.target===i)&&d.call(i,e)}catch(g){m?c.push(g):m=g}if(e.cancelBubble||p===r||p===null)break;i=p}if(m){for(let g of c)queueMicrotask(()=>{throw g});throw m}}finally{e.__root=r,delete e.currentTarget,It(b),Ht(v)}}}function as(e){var r=document.createElement("template");return r.innerHTML=e.replaceAll("<!>","<!---->"),r.content}function ar(e,r){var t=ht;t.nodes===null&&(t.nodes={start:e,end:r,a:null,t:null})}function ae(e,r){var t=(r&di)!==0,l=(r&pi)!==0,a,i=!e.startsWith("<!>");return()=>{a===void 0&&(a=as(i?e:"<!>"+e),t||(a=nr(a)));var o=l||Tn?document.importNode(a,!0):a.cloneNode(!0);if(t){var n=nr(o),f=o.lastChild;ar(n,f)}else ar(o,o);return o}}function Qr(e=""){{var r=Yt(e+"");return ar(r,r),r}}function tn(){var e=document.createDocumentFragment(),r=document.createComment(""),t=Yt();return e.append(r,t),ar(r,t),e}function Pt(e,r){e!==null&&e.before(r)}const os=["touchstart","touchmove"];function ls(e){return os.includes(e)}function Et(e,r){var t=r==null?"":typeof r=="object"?r+"":r;t!==(e.__t??=e.nodeValue)&&(e.__t=t,e.nodeValue=t+"")}function fs(e,r){return us(e,r)}const ve=new Map;function us(e,{target:r,anchor:t,props:l={},events:a,context:i,intro:o=!0}){Gi();var n=new Set,f=v=>{for(var m=0;m<v.length;m++){var c=v[m];if(!n.has(c)){n.add(c);var p=ls(c);r.addEventListener(c,Le,{passive:p});var d=ve.get(c);d===void 0?(document.addEventListener(c,Le,{passive:p}),ve.set(c,1)):ve.set(c,d+1)}}};f(or(is)),Xr.add(f);var h=void 0,b=Yi(()=>{var v=t??r.appendChild(Yt());return Ui(v,{pending:()=>{}},m=>{if(i){ur({});var c=vt;c.c=i}a&&(l.$$events=a),h=e(m,l)||{},i&&cr()}),()=>{for(var m of n){r.removeEventListener(m,Le);var c=ve.get(m);--c===0?(document.removeEventListener(m,Le),ve.delete(m)):ve.set(m,c)}Xr.delete(f),v!==t&&v.parentNode?.removeChild(v)}});return cs.set(h,b),h}let cs=new WeakMap;class hs{anchor;#t=new Map;#e=new Map;#n=new Map;#r=new Set;#l=!0;constructor(r,t=!0){this.anchor=r,this.#l=t}#s=()=>{var r=mt;if(this.#t.has(r)){var t=this.#t.get(r),l=this.#e.get(t);if(l)Wr(l),this.#r.delete(t);else{var a=this.#n.get(t);a&&(this.#e.set(t,a.effect),this.#n.delete(t),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),l=a.effect)}for(const[i,o]of this.#t){if(this.#t.delete(i),i===r)break;const n=this.#n.get(o);n&&(zt(n.effect),this.#n.delete(o))}for(const[i,o]of this.#e){if(i===t||this.#r.has(i))continue;const n=()=>{if(Array.from(this.#t.values()).includes(i)){var h=document.createDocumentFragment();Wn(o,h),h.append(Yt()),this.#n.set(i,{effect:o,fragment:h})}else zt(o);this.#r.delete(i),this.#e.delete(i)};this.#l||!l?(this.#r.add(i),le(o,n,!1)):n()}}};#i=r=>{this.#t.delete(r);const t=Array.from(this.#t.values());for(const[l,a]of this.#n)t.includes(l)||(zt(a.effect),this.#n.delete(l))};ensure(r,t){var l=mt,a=Dn();if(t&&!this.#e.has(r)&&!this.#n.has(r))if(a){var i=document.createDocumentFragment(),o=Yt();i.append(o),this.#n.set(r,{effect:Ft(()=>t(o)),fragment:i})}else this.#e.set(r,Ft(()=>t(this.anchor)));if(this.#t.set(l,r),a){for(const[n,f]of this.#e)n===r?l.skipped_effects.delete(f):l.skipped_effects.add(f);for(const[n,f]of this.#n)n===r?l.skipped_effects.delete(f.effect):l.skipped_effects.add(f.effect);l.oncommit(this.#s),l.ondiscard(this.#i)}else this.#s()}}function dr(e){vt===null&&Rr(),Te&&vt.l!==null?vs(vt).m.push(e):xr(()=>{const r=lt(e);if(typeof r=="function")return r})}function ds(e){vt===null&&Rr(),dr(()=>()=>lt(e))}function ps(e,r,{bubbles:t=!1,cancelable:l=!1}={}){return new CustomEvent(e,{detail:r,bubbles:t,cancelable:l})}function _s(){const e=vt;return e===null&&Rr(),(r,t,l)=>{const a=e.s.$$events?.[r];if(a){const i=Ir(a)?a.slice():[a],o=ps(r,t,l);for(const n of i)n.call(e.x,o);return!o.defaultPrevented}return!0}}function vs(e){var r=e.l;return r.u??={a:[],b:[],m:[]}}function me(e,r,t=!1){var l=new hs(e),a=t?Ae:0;function i(o,n){l.ensure(o,n)}jr(()=>{var o=!1;r((n,f=!0)=>{o=!0,i(f,n)}),o||i(!1,null)},a)}function ms(e,r){return r}function gs(e,r,t){for(var l=[],a=r.length,i,o=r.length,n=0;n<a;n++){let v=r[n];le(v,()=>{if(i){if(i.pending.delete(v),i.done.add(v),i.pending.size===0){var m=e.outrogroups;Er(or(i.done)),m.delete(i),m.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var f=l.length===0&&t!==null;if(f){var h=t,b=h.parentNode;$i(b),b.append(h),e.items.clear()}Er(r,!f)}else i={pending:new Set(r),done:new Set},(e.outrogroups??=new Set).add(i)}function Er(e,r=!0){for(var t=0;t<e.length;t++)zt(e[t],r)}var en;function Vn(e,r,t,l,a,i=null){var o=e,n=new Map;{var f=e;o=f.appendChild(Yt())}var h=null,b=Ee(()=>{var g=t();return Ir(g)?g:g==null?[]:or(g)}),v,m=!0;function c(){d.fallback=h,ws(d,v,o,r,l),h!==null&&(v.length===0?(h.f&ne)===0?Wr(h):(h.f^=ne,Ue(h,null,o)):le(h,()=>{h=null}))}var p=jr(()=>{v=D(b);for(var g=v.length,_=new Set,y=mt,S=Dn(),C=0;C<g;C+=1){var A=v[C],F=l(A,C),R=m?null:n.get(F);R?(R.v&&ze(R.v,A),R.i&&ze(R.i,C),S&&y.skipped_effects.delete(R.e)):(R=bs(n,m?o:en??=Yt(),A,F,C,a,r,t),m||(R.e.f|=ne),n.set(F,R)),_.add(F)}if(g===0&&i&&!h&&(m?h=Ft(()=>i(o)):(h=Ft(()=>i(en??=Yt())),h.f|=ne)),!m)if(S){for(const[M,T]of n)_.has(M)||y.skipped_effects.add(T.e);y.oncommit(c),y.ondiscard(()=>{})}else c();D(b)}),d={effect:p,items:n,outrogroups:null,fallback:h};m=!1}function ws(e,r,t,l,a){var i=r.length,o=e.items,n=e.effect.first,f,h=null,b=[],v=[],m,c,p,d;for(d=0;d<i;d+=1){if(m=r[d],c=a(m,d),p=o.get(c).e,e.outrogroups!==null)for(const M of e.outrogroups)M.pending.delete(p),M.done.delete(p);if((p.f&ne)!==0)if(p.f^=ne,p===n)Ue(p,null,t);else{var g=h?h.next:n;p===e.effect.last&&(e.effect.last=p.prev),p.prev&&(p.prev.next=p.next),p.next&&(p.next.prev=p.prev),re(e,h,p),re(e,p,g),Ue(p,g,t),h=p,b=[],v=[],n=h.next;continue}if((p.f&Bt)!==0&&Wr(p),p!==n){if(f!==void 0&&f.has(p)){if(b.length<v.length){var _=v[0],y;h=_.prev;var S=b[0],C=b[b.length-1];for(y=0;y<b.length;y+=1)Ue(b[y],_,t);for(y=0;y<v.length;y+=1)f.delete(v[y]);re(e,S.prev,C.next),re(e,h,S),re(e,C,_),n=_,h=C,d-=1,b=[],v=[]}else f.delete(p),Ue(p,n,t),re(e,p.prev,p.next),re(e,p,h===null?e.effect.first:h.next),re(e,h,p),h=p;continue}for(b=[],v=[];n!==null&&n!==p;)(f??=new Set).add(n),v.push(n),n=n.next;if(n===null)continue}(p.f&ne)===0&&b.push(p),h=p,n=p.next}if(e.outrogroups!==null){for(const M of e.outrogroups)M.pending.size===0&&(Er(or(M.done)),e.outrogroups?.delete(M));e.outrogroups.size===0&&(e.outrogroups=null)}if(n!==null||f!==void 0){var A=[];if(f!==void 0)for(p of f)(p.f&Bt)===0&&A.push(p);for(;n!==null;)(n.f&Bt)===0&&n!==e.fallback&&A.push(n),n=n.next;var F=A.length;if(F>0){var R=i===0?t:null;gs(e,A,R)}}}function bs(e,r,t,l,a,i,o,n){var f=(o&oi)!==0?(o&fi)===0?xt(t,!1,!1):de(t):null,h=(o&li)!==0?de(a):null;return{v:f,i:h,e:Ft(()=>(i(r,f??t,h??a,n),()=>{e.delete(l)}))}}function Ue(e,r,t){if(e.nodes)for(var l=e.nodes.start,a=e.nodes.end,i=r&&(r.f&ne)===0?r.nodes.start:t;l!==null;){var o=He(l);if(i.before(l),l===a)return;l=o}}function re(e,r,t){r===null?e.effect.first=t:r.next=t,t===null?e.effect.last=r:t.prev=r}const rn=[...` 	
\r\f \v\uFEFF`];function ys(e,r,t){var l=e==null?"":""+e;if(r&&(l=l?l+" "+r:r),t){for(var a in t)if(t[a])l=l?l+" "+a:a;else if(l.length)for(var i=a.length,o=0;(o=l.indexOf(a,o))>=0;){var n=o+i;(o===0||rn.includes(l[o-1]))&&(n===l.length||rn.includes(l[n]))?l=(o===0?"":l.substring(0,o))+l.substring(n+1):o=n}}return l===""?null:l}function ks(e,r){return e==null?null:String(e)}function er(e,r,t,l,a,i){var o=e.__className;if(o!==t||o===void 0){var n=ys(t,l,i);n==null?e.removeAttribute("class"):e.className=n,e.__className=t}else if(i&&a!==i)for(var f in i){var h=!!i[f];(a==null||h!==!!a[f])&&e.classList.toggle(f,h)}return i}function Yn(e,r,t,l){var a=e.__style;if(a!==r){var i=ks(r);i==null?e.removeAttribute("style"):e.style.cssText=i,e.__style=r}return l}const xs=Symbol("is custom element"),Ss=Symbol("is html");function Ar(e,r){var t=Jn(e);t.value===(t.value=r??void 0)||e.value===r&&(r!==0||e.nodeName!=="PROGRESS")||(e.value=r??"")}function Xn(e,r,t,l){var a=Jn(e);a[r]!==(a[r]=t)&&(r==="loading"&&(e[ki]=t),t==null?e.removeAttribute(r):typeof t!="string"&&Es(e).includes(r)?e[r]=t:e.setAttribute(r,t))}function Jn(e){return e.__attributes??={[xs]:e.nodeName.includes("-"),[Ss]:e.namespaceURI===_i}}var nn=new Map;function Es(e){var r=e.getAttribute("is")||e.nodeName,t=nn.get(r);if(t)return t;nn.set(r,t=[]);for(var l,a=e,i=Element.prototype;i!==a;){l=vn(a);for(var o in l)l[o].set&&t.push(o);a=zr(a)}return t}function Zr(e=!1){const r=vt,t=r.l.u;if(!t)return;let l=()=>$t(r.s);if(e){let a=0,i={};const o=Dr(()=>{let n=!1;const f=r.s;for(const h in f)f[h]!==i[h]&&(i[h]=f[h],n=!0);return n&&a++,a});l=()=>D(o)}t.b.length&&Vi(()=>{sn(r,l),gr(t.b)}),xr(()=>{const a=lt(()=>t.m.map(wi));return()=>{for(const i of a)typeof i=="function"&&i()}}),t.a.length&&xr(()=>{sn(r,l),gr(t.a)})}function sn(e,r){if(e.l.s)for(const t of e.l.s)D(t);r()}function Qn(e,r,t){if(e==null)return r(void 0),xe;const l=lt(()=>e.subscribe(r,t));return l.unsubscribe?()=>l.unsubscribe():l}const ge=[];function As(e,r=xe){let t=null;const l=new Set;function a(n){if(kn(e,n)&&(e=n,t)){const f=!ge.length;for(const h of l)h[1](),ge.push(h,e);if(f){for(let h=0;h<ge.length;h+=2)ge[h][0](ge[h+1]);ge.length=0}}}function i(n){a(n(e))}function o(n,f=xe){const h=[n,f];return l.add(h),l.size===1&&(t=r(a,i)||xe),n(e),()=>{l.delete(h),l.size===0&&t&&(t(),t=null)}}return{set:a,update:i,subscribe:o}}function Cs(e){let r;return Qn(e,t=>r=t)(),r}let Ve=!1,Cr=Symbol();function Is(e,r,t){const l=t[r]??={store:null,source:xt(void 0),unsubscribe:xe};if(l.store!==e&&!(Cr in t))if(l.unsubscribe(),l.store=e??null,e==null)l.source.v=void 0,l.unsubscribe=xe;else{var a=!0;l.unsubscribe=Qn(e,i=>{a?l.source.v=i:at(l.source,i)}),a=!1}return e&&Cr in t?Cs(e):D(l.source)}function zs(){const e={};function r(){Fr(()=>{for(var t in e)e[t].unsubscribe();_n(e,Cr,{enumerable:!1,value:!0})})}return[e,r]}function Os(e){var r=Ve;try{return Ve=!1,[e(),Ve]}finally{Ve=r}}function je(e,r,t,l){var a=!Te||(t&ui)!==0,i=(t&hi)!==0,o=l,n=!0,f=()=>(n&&(n=!1,o=l),o),h;{var b=Se in e||yi in e;h=ke(e,r)?.set??(b&&r in e?y=>e[r]=y:void 0)}var v,m=!1;[v,m]=Os(()=>e[r]),v===void 0&&l!==void 0&&(v=f(),h&&(a&&Ii(),h(v)));var c;if(a?c=()=>{var y=e[r];return y===void 0?f():(n=!0,y)}:c=()=>{var y=e[r];return y!==void 0&&(o=void 0),y===void 0?o:y},a&&(t&ci)===0)return c;if(h){var p=e.$$legacy;return(function(y,S){return arguments.length>0?((!a||!S||p||m)&&h(S?c():y),y):c()})}var d=!1,g=Ee(()=>(d=!1,c()));D(g);var _=ht;return(function(y,S){if(arguments.length>0){const C=S?D(g):a&&i?ye(y):y;return at(g,C),d=!0,o!==void 0&&(o=C),y}return _e&&d||(_.f&Vt)!==0?g.v:D(g)})}function Ts(e){if(!e)return{left:"",pivot:"",right:""};const r=e.length;let t=0;return r===1?t=0:r>=2&&r<=5?t=1:r>=6&&r<=9?t=2:r>=10&&r<=13?t=3:t=4,t>=r&&(t=Math.floor((r-1)/2)),{left:e.slice(0,t),pivot:e[t],right:e.slice(t+1)}}function Ye(e,r){if(!e)return 0;const t=e.trim().split(/\s+/).filter(a=>a.length>0).length;if(t===0)return 0;let l=Math.round(r/t*1e3);return l/=10,l=l>100?100:l,Number(l.toFixed(1))}function an(e){return new Date(e).toLocaleDateString(void 0,{month:"short",day:"numeric"})}const on=1e9,ln=1e6,fn=1e3;function Xe(e){return e<0&&(e=0),e>=on?(e/on).toFixed(1).replace(/\.0$/,"")+"B":e>=ln?(e/ln).toFixed(1).replace(/\.0$/,"")+"M":e>=fn?(e/fn).toFixed(1).replace(/\.0$/,"")+"K":e.toString()}const Je=e=>e.trim().split(/\s+/).filter(Boolean).length;class Rs{constructor(r){this.words=[],this.idx=0,this.wpm=500,this.isPlaying=!1,this.onUpdate=r}load(r){this.stop(),this.words=r.trim().split(/\s+/).filter(t=>t.length>0),this.idx=0,this.update()}play(){this.words.length===0||this.idx>=this.words.length||(this.isPlaying=!0,this.update(),this.tick())}pause(){this.isPlaying=!1,clearTimeout(this.timer),this.update()}toggle(){this.isPlaying?this.pause():this.play()}stop(){this.isPlaying=!1,clearTimeout(this.timer),this.update()}seek(r){const t=this.idx+r;this.idx=Math.max(0,Math.min(t,this.words.length-1)),this.update()}setWpm(r){this.wpm=r,this.update()}get currentWord(){return this.words[this.idx]||""}get progress(){return this.words.length===0?0:this.idx/this.words.length*100}tick(){if(!this.isPlaying)return;if(this.idx>=this.words.length){this.pause();return}const r=this.words[this.idx],t=this.calculateDelay(r);this.timer=setTimeout(()=>{this.idx++,this.idx>=this.words.length?this.pause():(this.update(),this.tick())},t)}calculateDelay(r){const t=6e4/this.wpm;return r.endsWith(".")||r.endsWith("!")||r.endsWith("?")?t*2.2:r.endsWith(",")||r.endsWith(";")||r.endsWith(":")?t*1.5:r.length>8?t*1.2:t}update(){this.onUpdate()}}var Bs=ae('<div class="overlay p-fix f-col j-ct al-ct svelte-1r2p9dp"><div class="reader p-rel w-100 f j-ct al-ct rx10 svelte-1r2p9dp"><div class="guides h-100 p-abs f-col j-bw o-33 svelte-1r2p9dp"><div class="top svelte-1r2p9dp"></div> <div class="bottom svelte-1r2p9dp"></div></div> <div class="word-display fw5 f svelte-1r2p9dp"><span class="part d-ib left tr svelte-1r2p9dp"> </span> <span class="part d-ib pivot tc fw7 svelte-1r2p9dp"> </span> <span class="part d-ib right tl svelte-1r2p9dp"> </span></div></div> <div class="hud p-abs w-100 p20 f-col al-ct g10 svelte-1r2p9dp"><div class="progress-bar w-100 rx2 svelte-1r2p9dp"><div class="fill h-100 svelte-1r2p9dp"></div></div> <div class="f al-ct g20"><span class="info svelte-1r2p9dp"> </span> <button class="icon-btn svelte-1r2p9dp"> </button> <input type="range" min="100" max="1000" step="50" class="mini-slider svelte-1r2p9dp"/> <span class="info svelte-1r2p9dp"> </span> <button class="icon-btn svelte-1r2p9dp">✕ Exit</button></div></div></div>');function Ds(e,r){ur(r,!1);const t=xt();let l=je(r,"text",8,""),a=je(r,"startIndex",8,0),i=je(r,"wpm",8,300);const o=_s();let n=xt(new Rs(()=>at(n,D(n))));dr(()=>{D(n).setWpm(i()),D(n).load(l()),D(n).seek(a()),D(n).play()});function f(tt){const P=+tt.target.value;D(n).setWpm(P)}function h(){D(n).stop(),o("close",{index:D(n).idx,wpm:D(n).wpm})}function b(tt){tt.code==="Space"&&(tt.preventDefault(),D(n).toggle()),tt.code==="Escape"&&h(),tt.code==="ArrowLeft"&&D(n).seek(-20),tt.code==="ArrowRight"&&D(n).seek(20),tt.code==="ArrowUp"&&(tt.shiftKey?D(n).setWpm(D(n).wpm+500):D(n).setWpm(D(n).wpm+50)),tt.code==="ArrowDown"&&(tt.shiftKey?D(n).setWpm(D(n).wpm-500):D(n).setWpm(D(n).wpm-50))}ds(()=>D(n).stop()),Lr(()=>D(n),()=>{at(t,Ts(D(n).currentWord))}),Ur(),Zr();var v=Bs();Rt("keydown",kr,b);var m=it(v),c=_t(it(m),2),p=it(c),d=it(p),g=_t(p,2),_=it(g),y=_t(g,2),S=it(y),C=_t(m,2),A=it(C),F=it(A),R=_t(A,2),M=it(R),T=it(M),q=_t(M,2),J=it(q),x=_t(q,2),N=_t(x,2),u=it(N),U=_t(N,2);oe(()=>{Et(d,(D(t),lt(()=>D(t).left))),Et(_,(D(t),lt(()=>D(t).pivot))),Et(S,(D(t),lt(()=>D(t).right))),Yn(F,`width: ${D(n),lt(()=>D(n).progress)??""}%`),Et(T,`${D(n),lt(()=>D(n).idx)??""} / ${D(n),lt(()=>D(n).words.length)??""} words`),Et(J,(D(n),lt(()=>D(n).isPlaying?"⏸ Pause":"▶ Play"))),Ar(x,(D(n),lt(()=>D(n).wpm))),Et(u,`${D(n),lt(()=>D(n).wpm)??""} WPM`)}),Rt("click",q,()=>D(n).toggle()),Rt("input",x,f),Rt("click",U,h),Pt(e,v),cr()}const un=e=>encodeURIComponent(e.replaceAll(" ","-").toLowerCase()),cn=e=>{let r=5381;for(let t=0;t<e.length;t++)r=(r<<5)+r+e.charCodeAt(t),r|=0;return Math.abs(r).toString(16)};class hn{constructor({text:r="",rate:t=1,voiceName:l=""}={}){this._text="",this._rate=1,this.voiceName="Samantha (English (United States))",this.sentences=[],this.currentIndex=0,this.speaking=!1,this.progress=0,this.listeners=new Set,this.playpause=()=>{this.speaking?this.cancel():this.speak()},this.jumpTo=a=>{this.currentIndex=a,this.cancel(),this.speak()},this._text=r,this._rate=t,l&&(this.voiceName=l),this.processText()}get text(){return this._text}set text(r){this._text!==r&&(this._text=r,this.processText(),this.cancel(),this.currentIndex=0,this.updateState())}get rate(){return this._rate}set rate(r){this._rate=r}static parse(r){try{const t=typeof r=="string"?JSON.parse(r):r;return{text:t?.text||t||"",current:t?.current||0}}catch{return{text:String(r),current:0}}}processText(){if(!this._text){this.sentences=[];return}this.sentences=this._text.match(/[^.!?]+[.!?]*/g)?.map(r=>r.trim()).filter(r=>r)||[this._text]}onChange(r){return this.listeners.add(r),()=>this.listeners.delete(r)}updateState(){this.progress=this.sentences.length?this.currentIndex/this.sentences.length*100:0,this.listeners.forEach(r=>r())}speak(){this.cancel(!1),this.speaking=!0,this.loop(),this.updateState()}loop(){if(!this.speaking)return;if(this.currentIndex>=this.sentences.length){this.speaking=!1,this.currentIndex=0,this.updateState();return}const r=this.sentences[this.currentIndex],t=new SpeechSynthesisUtterance(r);t.rate=this._rate;const a=speechSynthesis.getVoices().find(i=>i.name===this.voiceName);a&&(t.voice=a),t.onend=()=>{this.speaking&&(this.currentIndex++,this.updateState(),this.loop())},t.onerror=()=>{this.speaking=!1,this.updateState()},speechSynthesis.speak(t)}cancel(r=!0){this.speaking=!1,speechSynthesis.cancel(),r&&this.updateState()}}var Ns=ae("<div> </div>"),Ps=ae('<div class="overlay p-fix f-col j-ct al-ct svelte-42e9et"><div class="reader p-rel w-100 f j-ct al-ct rx10 svelte-42e9et"><div class="lyrics-window tc w-100 svelte-42e9et"></div></div> <div class="hud p-abs w-100 p20 f-col al-ct g10 svelte-42e9et"><div class="progress-bar w-100 rx2 svelte-42e9et"><div class="fill h-100 svelte-42e9et"></div></div> <div class="f al-ct g20"><span class="info svelte-42e9et"> </span> <button class="icon-btn svelte-42e9et"> </button> <span class="info svelte-42e9et"> </span></div></div></div>');function Fs(e,r){ur(r,!1);let t=je(r,"data",8,""),l=hn.parse(t()),a=l.text,i=xt(l.current),o=xt(1.2),n=xt(new hn({text:a,rate:D(o),voiceName:"Samantha (English (United States))"})),f=xt(D(n).sentences),h=xt(D(n).speaking),b=xt(D(n).progress);const v=D(n).onChange(()=>{at(f,D(n).sentences),at(i,D(n).currentIndex),at(h,D(n).speaking),at(b,D(n).progress);const T=un(D(f)[D(i)||0]||"");localStorage.setItem(`tts-progress-${cn(a||"")}`,JSON.stringify({line:T,rate:D(o)})),setTimeout(()=>{document.getElementById("line-"+D(i))?.scrollIntoView({behavior:"smooth",block:"center"})},0)});dr(()=>{speechSynthesis.onvoiceschanged=()=>{};const T=localStorage.getItem(`tts-progress-${cn(a||"")}`);if(T){const J=JSON.parse(T);let x=0;J.line&&(x=D(f).findIndex(N=>un(N)===J.line),x<=0&&(x=0)),typeof J.rate=="number"&&at(o,Math.max(.25,Math.min(2,J.rate))),_r(n,D(n).currentIndex=x),at(i,x)}const q=document.getElementById("line-"+D(n).currentIndex);return q&&q.scrollIntoView({behavior:"smooth",block:"center"}),()=>{v?.(),D(n).cancel()}}),Lr(()=>D(o),()=>{_r(n,D(n).text=a),_r(n,D(n).rate=D(o))}),Ur(),Zr();var m=Ps(),c=it(m),p=it(c);Vn(p,5,()=>D(f),ms,(T,q,J)=>{var x=Ns();Xn(x,"id","line-"+J);let N;var u=it(x);oe(()=>{N=er(x,1,"line o-66 svelte-42e9et",null,N,{active:J===D(i)}),Et(u,D(q))}),Rt("click",x,()=>D(n).jumpTo(J)),Pt(T,x)});var d=_t(c,2),g=it(d),_=it(g),y=_t(g,2),S=it(y),C=it(S),A=_t(S,2),F=it(A),R=_t(A,2),M=it(R);oe(T=>{Yn(_,`width: ${D(b)??""}%`),Et(C,`${D(i)+1} / ${D(f),lt(()=>D(f).length)??""} lines`),Et(F,D(h)?"⏸ Pause":"▶ Play"),Et(M,`${T??""}x`)},[()=>(D(o),lt(()=>D(o).toFixed(2)))]),Rt("click",A,function(...T){D(n).playpause?.apply(this,T)}),Pt(e,m),cr()}class Ls{constructor(){this.dbName="rsvp-notes-db",this.storeName="notes",this.version=1,this.db=null}async initialize(r="Welcome to RSVP Reader! Paste your text here."){this.db=await this.openDB(),await this.count()===0&&await this.create(r)}openDB(){return new Promise((r,t)=>{const l=indexedDB.open(this.dbName,this.version);l.onupgradeneeded=a=>{const i=a.target.result;i.objectStoreNames.contains(this.storeName)||i.createObjectStore(this.storeName,{keyPath:"id"})},l.onsuccess=()=>r(l.result),l.onerror=()=>t(l.error)})}getStore(r){if(!this.db)throw new Error("DB uninitialized. initialize() first.");return this.db.transaction(this.storeName,r).objectStore(this.storeName)}async create(r=""){const t={id:crypto.randomUUID(),text:r,lastModified:Date.now(),savedIndex:0};return new Promise((l,a)=>{const o=this.getStore("readwrite").add(t);o.onsuccess=()=>l(t),o.onerror=()=>a(o.error)})}async update(r,t,l){const a=await this.get(r);if(!a)return;const i={...a,text:t,lastModified:Date.now(),savedIndex:l??a.savedIndex};return new Promise((o,n)=>{const h=this.getStore("readwrite").put(i);h.onsuccess=()=>o(),h.onerror=()=>n(h.error)})}async delete(r){return new Promise((t,l)=>{const i=this.getStore("readwrite").delete(r);i.onsuccess=()=>t(),i.onerror=()=>l(i.error)})}async getAll(){return new Promise((r,t)=>{const a=this.getStore("readonly").getAll();a.onsuccess=()=>{const i=a.result;i.sort((o,n)=>n.lastModified-o.lastModified),r(i)},a.onerror=()=>t(a.error)})}async get(r){return new Promise((t,l)=>{const i=this.getStore("readonly").get(r);i.onsuccess=()=>t(i.result||null),i.onerror=()=>l(i.error)})}async setSavedIndex(r,t){const l=await this.get(r);l&&await this.update(r,l.text,t)}async count(){return new Promise((r,t)=>{const a=this.getStore("readonly").count();a.onsuccess=()=>r(a.result),a.onerror=()=>t(a.error)})}}var Qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Us(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function tr(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var vr={exports:{}};var dn;function Ms(){return dn||(dn=1,(function(e,r){(function(t){e.exports=t()})(function(){return(function t(l,a,i){function o(h,b){if(!a[h]){if(!l[h]){var v=typeof tr=="function"&&tr;if(!b&&v)return v(h,!0);if(n)return n(h,!0);var m=new Error("Cannot find module '"+h+"'");throw m.code="MODULE_NOT_FOUND",m}var c=a[h]={exports:{}};l[h][0].call(c.exports,function(p){var d=l[h][1][p];return o(d||p)},c,c.exports,t,l,a,i)}return a[h].exports}for(var n=typeof tr=="function"&&tr,f=0;f<i.length;f++)o(i[f]);return o})({1:[function(t,l,a){var i=t("./utils"),o=t("./support"),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(f){for(var h,b,v,m,c,p,d,g=[],_=0,y=f.length,S=y,C=i.getTypeOf(f)!=="string";_<f.length;)S=y-_,v=C?(h=f[_++],b=_<y?f[_++]:0,_<y?f[_++]:0):(h=f.charCodeAt(_++),b=_<y?f.charCodeAt(_++):0,_<y?f.charCodeAt(_++):0),m=h>>2,c=(3&h)<<4|b>>4,p=1<S?(15&b)<<2|v>>6:64,d=2<S?63&v:64,g.push(n.charAt(m)+n.charAt(c)+n.charAt(p)+n.charAt(d));return g.join("")},a.decode=function(f){var h,b,v,m,c,p,d=0,g=0,_="data:";if(f.substr(0,_.length)===_)throw new Error("Invalid base64 input, it looks like a data url.");var y,S=3*(f=f.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(f.charAt(f.length-1)===n.charAt(64)&&S--,f.charAt(f.length-2)===n.charAt(64)&&S--,S%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=o.uint8array?new Uint8Array(0|S):new Array(0|S);d<f.length;)h=n.indexOf(f.charAt(d++))<<2|(m=n.indexOf(f.charAt(d++)))>>4,b=(15&m)<<4|(c=n.indexOf(f.charAt(d++)))>>2,v=(3&c)<<6|(p=n.indexOf(f.charAt(d++))),y[g++]=h,c!==64&&(y[g++]=b),p!==64&&(y[g++]=v);return y}},{"./support":30,"./utils":32}],2:[function(t,l,a){var i=t("./external"),o=t("./stream/DataWorker"),n=t("./stream/Crc32Probe"),f=t("./stream/DataLengthProbe");function h(b,v,m,c,p){this.compressedSize=b,this.uncompressedSize=v,this.crc32=m,this.compression=c,this.compressedContent=p}h.prototype={getContentWorker:function(){var b=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new f("data_length")),v=this;return b.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),b},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(b,v,m){return b.pipe(new n).pipe(new f("uncompressedSize")).pipe(v.compressWorker(m)).pipe(new f("compressedSize")).withStreamInfo("compression",v)},l.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,l,a){var i=t("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},a.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,l,a){var i=t("./utils"),o=(function(){for(var n,f=[],h=0;h<256;h++){n=h;for(var b=0;b<8;b++)n=1&n?3988292384^n>>>1:n>>>1;f[h]=n}return f})();l.exports=function(n,f){return n!==void 0&&n.length?i.getTypeOf(n)!=="string"?(function(h,b,v,m){var c=o,p=m+v;h^=-1;for(var d=m;d<p;d++)h=h>>>8^c[255&(h^b[d])];return-1^h})(0|f,n,n.length,0):(function(h,b,v,m){var c=o,p=m+v;h^=-1;for(var d=m;d<p;d++)h=h>>>8^c[255&(h^b.charCodeAt(d))];return-1^h})(0|f,n,n.length,0):0}},{"./utils":32}],5:[function(t,l,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(t,l,a){var i=null;i=typeof Promise<"u"?Promise:t("lie"),l.exports={Promise:i}},{lie:37}],7:[function(t,l,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=t("pako"),n=t("./utils"),f=t("./stream/GenericWorker"),h=i?"uint8array":"array";function b(v,m){f.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=m,this.meta={}}a.magic="\b\0",n.inherits(b,f),b.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(n.transformTo(h,v.data),!1)},b.prototype.flush=function(){f.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},b.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this._pako=null},b.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(m){v.push({data:m,meta:v.meta})}},a.compressWorker=function(v){return new b("Deflate",v)},a.uncompressWorker=function(){return new b("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,l,a){function i(c,p){var d,g="";for(d=0;d<p;d++)g+=String.fromCharCode(255&c),c>>>=8;return g}function o(c,p,d,g,_,y){var S,C,A=c.file,F=c.compression,R=y!==h.utf8encode,M=n.transformTo("string",y(A.name)),T=n.transformTo("string",h.utf8encode(A.name)),q=A.comment,J=n.transformTo("string",y(q)),x=n.transformTo("string",h.utf8encode(q)),N=T.length!==A.name.length,u=x.length!==q.length,U="",tt="",P="",V=A.dir,j=A.date,Y={crc32:0,compressedSize:0,uncompressedSize:0};p&&!d||(Y.crc32=c.crc32,Y.compressedSize=c.compressedSize,Y.uncompressedSize=c.uncompressedSize);var O=0;p&&(O|=8),R||!N&&!u||(O|=2048);var I=0,Q=0;V&&(I|=16),_==="UNIX"?(Q=798,I|=(function(H,ft){var pt=H;return H||(pt=ft?16893:33204),(65535&pt)<<16})(A.unixPermissions,V)):(Q=20,I|=(function(H){return 63&(H||0)})(A.dosPermissions)),S=j.getUTCHours(),S<<=6,S|=j.getUTCMinutes(),S<<=5,S|=j.getUTCSeconds()/2,C=j.getUTCFullYear()-1980,C<<=4,C|=j.getUTCMonth()+1,C<<=5,C|=j.getUTCDate(),N&&(tt=i(1,1)+i(b(M),4)+T,U+="up"+i(tt.length,2)+tt),u&&(P=i(1,1)+i(b(J),4)+x,U+="uc"+i(P.length,2)+P);var K="";return K+=`
\0`,K+=i(O,2),K+=F.magic,K+=i(S,2),K+=i(C,2),K+=i(Y.crc32,4),K+=i(Y.compressedSize,4),K+=i(Y.uncompressedSize,4),K+=i(M.length,2),K+=i(U.length,2),{fileRecord:v.LOCAL_FILE_HEADER+K+M+U,dirRecord:v.CENTRAL_FILE_HEADER+i(Q,2)+K+i(J.length,2)+"\0\0\0\0"+i(I,4)+i(g,4)+M+U+J}}var n=t("../utils"),f=t("../stream/GenericWorker"),h=t("../utf8"),b=t("../crc32"),v=t("../signature");function m(c,p,d,g){f.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=d,this.encodeFileName=g,this.streamFiles=c,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}n.inherits(m,f),m.prototype.push=function(c){var p=c.meta.percent||0,d=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(c):(this.bytesWritten+=c.data.length,f.prototype.push.call(this,{data:c.data,meta:{currentFile:this.currentFile,percent:d?(p+100*(d-g-1))/d:100}}))},m.prototype.openedSource=function(c){this.currentSourceOffset=this.bytesWritten,this.currentFile=c.file.name;var p=this.streamFiles&&!c.file.dir;if(p){var d=o(c,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:d.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(c){this.accumulate=!1;var p=this.streamFiles&&!c.file.dir,d=o(c,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(d.dirRecord),p)this.push({data:(function(g){return v.DATA_DESCRIPTOR+i(g.crc32,4)+i(g.compressedSize,4)+i(g.uncompressedSize,4)})(c),meta:{percent:100}});else for(this.push({data:d.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var c=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var d=this.bytesWritten-c,g=(function(_,y,S,C,A){var F=n.transformTo("string",A(C));return v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(_,2)+i(_,2)+i(y,4)+i(S,4)+i(F.length,2)+F})(this.dirRecords.length,d,c,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(c){this._sources.push(c);var p=this;return c.on("data",function(d){p.processChunk(d)}),c.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),c.on("error",function(d){p.error(d)}),this},m.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},m.prototype.error=function(c){var p=this._sources;if(!f.prototype.error.call(this,c))return!1;for(var d=0;d<p.length;d++)try{p[d].error(c)}catch{}return!0},m.prototype.lock=function(){f.prototype.lock.call(this);for(var c=this._sources,p=0;p<c.length;p++)c[p].lock()},l.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,l,a){var i=t("../compressions"),o=t("./ZipFileWorker");a.generateWorker=function(n,f,h){var b=new o(f.streamFiles,h,f.platform,f.encodeFileName),v=0;try{n.forEach(function(m,c){v++;var p=(function(y,S){var C=y||S,A=i[C];if(!A)throw new Error(C+" is not a valid compression method !");return A})(c.options.compression,f.compression),d=c.options.compressionOptions||f.compressionOptions||{},g=c.dir,_=c.date;c._compressWorker(p,d).withStreamInfo("file",{name:m,dir:g,date:_,comment:c.comment||"",unixPermissions:c.unixPermissions,dosPermissions:c.dosPermissions}).pipe(b)}),b.entriesCount=v}catch(m){b.error(m)}return b}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,l,a){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new i;for(var n in this)typeof this[n]!="function"&&(o[n]=this[n]);return o}}(i.prototype=t("./object")).loadAsync=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.version="3.10.1",i.loadAsync=function(o,n){return new i().loadAsync(o,n)},i.external=t("./external"),l.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,l,a){var i=t("./utils"),o=t("./external"),n=t("./utf8"),f=t("./zipEntries"),h=t("./stream/Crc32Probe"),b=t("./nodejsUtils");function v(m){return new o.Promise(function(c,p){var d=m.decompressed.getContentWorker().pipe(new h);d.on("error",function(g){p(g)}).on("end",function(){d.streamInfo.crc32!==m.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):c()}).resume()})}l.exports=function(m,c){var p=this;return c=i.extend(c||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:n.utf8decode}),b.isNode&&b.isStream(m)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",m,!0,c.optimizedBinaryString,c.base64).then(function(d){var g=new f(c);return g.load(d),g}).then(function(d){var g=[o.Promise.resolve(d)],_=d.files;if(c.checkCRC32)for(var y=0;y<_.length;y++)g.push(v(_[y]));return o.Promise.all(g)}).then(function(d){for(var g=d.shift(),_=g.files,y=0;y<_.length;y++){var S=_[y],C=S.fileNameStr,A=i.resolve(S.fileNameStr);p.file(A,S.decompressed,{binary:!0,optimizedBinaryString:!0,date:S.date,dir:S.dir,comment:S.fileCommentStr.length?S.fileCommentStr:null,unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions,createFolders:c.createFolders}),S.dir||(p.file(A).unsafeOriginalName=C)}return g.zipComment.length&&(p.comment=g.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,l,a){var i=t("../utils"),o=t("../stream/GenericWorker");function n(f,h){o.call(this,"Nodejs stream input adapter for "+f),this._upstreamEnded=!1,this._bindStream(h)}i.inherits(n,o),n.prototype._bindStream=function(f){var h=this;(this._stream=f).pause(),f.on("data",function(b){h.push({data:b,meta:{percent:0}})}).on("error",function(b){h.isPaused?this.generatedError=b:h.error(b)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},n.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},n.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},l.exports=n},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,l,a){var i=t("readable-stream").Readable;function o(n,f,h){i.call(this,f),this._helper=n;var b=this;n.on("data",function(v,m){b.push(v)||b._helper.pause(),h&&h(m)}).on("error",function(v){b.emit("error",v)}).on("end",function(){b.push(null)})}t("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},l.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,l,a){l.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,o);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,o)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var o=new Buffer(i);return o.fill(0),o},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(t,l,a){function i(A,F,R){var M,T=n.getTypeOf(F),q=n.extend(R||{},b);q.date=q.date||new Date,q.compression!==null&&(q.compression=q.compression.toUpperCase()),typeof q.unixPermissions=="string"&&(q.unixPermissions=parseInt(q.unixPermissions,8)),q.unixPermissions&&16384&q.unixPermissions&&(q.dir=!0),q.dosPermissions&&16&q.dosPermissions&&(q.dir=!0),q.dir&&(A=_(A)),q.createFolders&&(M=g(A))&&y.call(this,M,!0);var J=T==="string"&&q.binary===!1&&q.base64===!1;R&&R.binary!==void 0||(q.binary=!J),(F instanceof v&&F.uncompressedSize===0||q.dir||!F||F.length===0)&&(q.base64=!1,q.binary=!0,F="",q.compression="STORE",T="string");var x=null;x=F instanceof v||F instanceof f?F:p.isNode&&p.isStream(F)?new d(A,F):n.prepareContent(A,F,q.binary,q.optimizedBinaryString,q.base64);var N=new m(A,x,q);this.files[A]=N}var o=t("./utf8"),n=t("./utils"),f=t("./stream/GenericWorker"),h=t("./stream/StreamHelper"),b=t("./defaults"),v=t("./compressedObject"),m=t("./zipObject"),c=t("./generate"),p=t("./nodejsUtils"),d=t("./nodejs/NodejsStreamInputAdapter"),g=function(A){A.slice(-1)==="/"&&(A=A.substring(0,A.length-1));var F=A.lastIndexOf("/");return 0<F?A.substring(0,F):""},_=function(A){return A.slice(-1)!=="/"&&(A+="/"),A},y=function(A,F){return F=F!==void 0?F:b.createFolders,A=_(A),this.files[A]||i.call(this,A,null,{dir:!0,createFolders:F}),this.files[A]};function S(A){return Object.prototype.toString.call(A)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(A){var F,R,M;for(F in this.files)M=this.files[F],(R=F.slice(this.root.length,F.length))&&F.slice(0,this.root.length)===this.root&&A(R,M)},filter:function(A){var F=[];return this.forEach(function(R,M){A(R,M)&&F.push(M)}),F},file:function(A,F,R){if(arguments.length!==1)return A=this.root+A,i.call(this,A,F,R),this;if(S(A)){var M=A;return this.filter(function(q,J){return!J.dir&&M.test(q)})}var T=this.files[this.root+A];return T&&!T.dir?T:null},folder:function(A){if(!A)return this;if(S(A))return this.filter(function(T,q){return q.dir&&A.test(T)});var F=this.root+A,R=y.call(this,F),M=this.clone();return M.root=R.name,M},remove:function(A){A=this.root+A;var F=this.files[A];if(F||(A.slice(-1)!=="/"&&(A+="/"),F=this.files[A]),F&&!F.dir)delete this.files[A];else for(var R=this.filter(function(T,q){return q.name.slice(0,A.length)===A}),M=0;M<R.length;M++)delete this.files[R[M].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(A){var F,R={};try{if((R=n.extend(A||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=R.type.toLowerCase(),R.compression=R.compression.toUpperCase(),R.type==="binarystring"&&(R.type="string"),!R.type)throw new Error("No output type specified.");n.checkSupport(R.type),R.platform!=="darwin"&&R.platform!=="freebsd"&&R.platform!=="linux"&&R.platform!=="sunos"||(R.platform="UNIX"),R.platform==="win32"&&(R.platform="DOS");var M=R.comment||this.comment||"";F=c.generateWorker(this,R,M)}catch(T){(F=new f("error")).error(T)}return new h(F,R.type||"string",R.mimeType)},generateAsync:function(A,F){return this.generateInternalStream(A).accumulate(F)},generateNodeStream:function(A,F){return(A=A||{}).type||(A.type="nodebuffer"),this.generateInternalStream(A).toNodejsStream(F)}};l.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,l,a){l.exports=t("stream")},{stream:void 0}],17:[function(t,l,a){var i=t("./DataReader");function o(n){i.call(this,n);for(var f=0;f<this.data.length;f++)n[f]=255&n[f]}t("../utils").inherits(o,i),o.prototype.byteAt=function(n){return this.data[this.zero+n]},o.prototype.lastIndexOfSignature=function(n){for(var f=n.charCodeAt(0),h=n.charCodeAt(1),b=n.charCodeAt(2),v=n.charCodeAt(3),m=this.length-4;0<=m;--m)if(this.data[m]===f&&this.data[m+1]===h&&this.data[m+2]===b&&this.data[m+3]===v)return m-this.zero;return-1},o.prototype.readAndCheckSignature=function(n){var f=n.charCodeAt(0),h=n.charCodeAt(1),b=n.charCodeAt(2),v=n.charCodeAt(3),m=this.readData(4);return f===m[0]&&h===m[1]&&b===m[2]&&v===m[3]},o.prototype.readData=function(n){if(this.checkOffset(n),n===0)return[];var f=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,f},l.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,l,a){var i=t("../utils");function o(n){this.data=n,this.length=n.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(n){this.checkIndex(this.index+n)},checkIndex:function(n){if(this.length<this.zero+n||n<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+n+"). Corrupted zip ?")},setIndex:function(n){this.checkIndex(n),this.index=n},skip:function(n){this.setIndex(this.index+n)},byteAt:function(){},readInt:function(n){var f,h=0;for(this.checkOffset(n),f=this.index+n-1;f>=this.index;f--)h=(h<<8)+this.byteAt(f);return this.index+=n,h},readString:function(n){return i.transformTo("string",this.readData(n))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var n=this.readInt(4);return new Date(Date.UTC(1980+(n>>25&127),(n>>21&15)-1,n>>16&31,n>>11&31,n>>5&63,(31&n)<<1))}},l.exports=o},{"../utils":32}],19:[function(t,l,a){var i=t("./Uint8ArrayReader");function o(n){i.call(this,n)}t("../utils").inherits(o,i),o.prototype.readData=function(n){this.checkOffset(n);var f=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,f},l.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,l,a){var i=t("./DataReader");function o(n){i.call(this,n)}t("../utils").inherits(o,i),o.prototype.byteAt=function(n){return this.data.charCodeAt(this.zero+n)},o.prototype.lastIndexOfSignature=function(n){return this.data.lastIndexOf(n)-this.zero},o.prototype.readAndCheckSignature=function(n){return n===this.readData(4)},o.prototype.readData=function(n){this.checkOffset(n);var f=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,f},l.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,l,a){var i=t("./ArrayReader");function o(n){i.call(this,n)}t("../utils").inherits(o,i),o.prototype.readData=function(n){if(this.checkOffset(n),n===0)return new Uint8Array(0);var f=this.data.subarray(this.zero+this.index,this.zero+this.index+n);return this.index+=n,f},l.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,l,a){var i=t("../utils"),o=t("../support"),n=t("./ArrayReader"),f=t("./StringReader"),h=t("./NodeBufferReader"),b=t("./Uint8ArrayReader");l.exports=function(v){var m=i.getTypeOf(v);return i.checkSupport(m),m!=="string"||o.uint8array?m==="nodebuffer"?new h(v):o.uint8array?new b(i.transformTo("uint8array",v)):new n(i.transformTo("array",v)):new f(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,l,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,l,a){var i=t("./GenericWorker"),o=t("../utils");function n(f){i.call(this,"ConvertWorker to "+f),this.destType=f}o.inherits(n,i),n.prototype.processChunk=function(f){this.push({data:o.transformTo(this.destType,f.data),meta:f.meta})},l.exports=n},{"../utils":32,"./GenericWorker":28}],25:[function(t,l,a){var i=t("./GenericWorker"),o=t("../crc32");function n(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(n,i),n.prototype.processChunk=function(f){this.streamInfo.crc32=o(f.data,this.streamInfo.crc32||0),this.push(f)},l.exports=n},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,l,a){var i=t("../utils"),o=t("./GenericWorker");function n(f){o.call(this,"DataLengthProbe for "+f),this.propName=f,this.withStreamInfo(f,0)}i.inherits(n,o),n.prototype.processChunk=function(f){if(f){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+f.data.length}o.prototype.processChunk.call(this,f)},l.exports=n},{"../utils":32,"./GenericWorker":28}],27:[function(t,l,a){var i=t("../utils"),o=t("./GenericWorker");function n(f){o.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,f.then(function(b){h.dataIsReady=!0,h.data=b,h.max=b&&b.length||0,h.type=i.getTypeOf(b),h.isPaused||h._tickAndRepeat()},function(b){h.error(b)})}i.inherits(n,o),n.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},n.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},n.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},n.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var f=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":f=this.data.substring(this.index,h);break;case"uint8array":f=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":f=this.data.slice(this.index,h)}return this.index=h,this.push({data:f,meta:{percent:this.max?this.index/this.max*100:0}})},l.exports=n},{"../utils":32,"./GenericWorker":28}],28:[function(t,l,a){function i(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,n){return this._listeners[o].push(n),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,n){if(this._listeners[o])for(var f=0;f<this._listeners[o].length;f++)this._listeners[o][f].call(this,n)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var n=this;return o.on("data",function(f){n.processChunk(f)}),o.on("end",function(){n.end()}),o.on("error",function(f){n.error(f)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,n){return this.extraStreamInfo[o]=n,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},l.exports=i},{}],29:[function(t,l,a){var i=t("../utils"),o=t("./ConvertWorker"),n=t("./GenericWorker"),f=t("../base64"),h=t("../support"),b=t("../external"),v=null;if(h.nodestream)try{v=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(p,d){return new b.Promise(function(g,_){var y=[],S=p._internalType,C=p._outputType,A=p._mimeType;p.on("data",function(F,R){y.push(F),d&&d(R)}).on("error",function(F){y=[],_(F)}).on("end",function(){try{var F=(function(R,M,T){switch(R){case"blob":return i.newBlob(i.transformTo("arraybuffer",M),T);case"base64":return f.encode(M);default:return i.transformTo(R,M)}})(C,(function(R,M){var T,q=0,J=null,x=0;for(T=0;T<M.length;T++)x+=M[T].length;switch(R){case"string":return M.join("");case"array":return Array.prototype.concat.apply([],M);case"uint8array":for(J=new Uint8Array(x),T=0;T<M.length;T++)J.set(M[T],q),q+=M[T].length;return J;case"nodebuffer":return Buffer.concat(M);default:throw new Error("concat : unsupported type '"+R+"'")}})(S,y),A);g(F)}catch(R){_(R)}y=[]}).resume()})}function c(p,d,g){var _=d;switch(d){case"blob":case"arraybuffer":_="uint8array";break;case"base64":_="string"}try{this._internalType=_,this._outputType=d,this._mimeType=g,i.checkSupport(_),this._worker=p.pipe(new o(_)),p.lock()}catch(y){this._worker=new n("error"),this._worker.error(y)}}c.prototype={accumulate:function(p){return m(this,p)},on:function(p,d){var g=this;return p==="data"?this._worker.on(p,function(_){d.call(g,_.data,_.meta)}):this._worker.on(p,function(){i.delay(d,arguments,g)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},p)}},l.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,l,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var i=new ArrayBuffer(0);try{a.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),a.blob=o.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!t("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(t,l,a){for(var i=t("./utils"),o=t("./support"),n=t("./nodejsUtils"),f=t("./stream/GenericWorker"),h=new Array(256),b=0;b<256;b++)h[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;h[254]=h[254]=1;function v(){f.call(this,"utf-8 decode"),this.leftOver=null}function m(){f.call(this,"utf-8 encode")}a.utf8encode=function(c){return o.nodebuffer?n.newBufferFrom(c,"utf-8"):(function(p){var d,g,_,y,S,C=p.length,A=0;for(y=0;y<C;y++)(64512&(g=p.charCodeAt(y)))==55296&&y+1<C&&(64512&(_=p.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(_-56320),y++),A+=g<128?1:g<2048?2:g<65536?3:4;for(d=o.uint8array?new Uint8Array(A):new Array(A),y=S=0;S<A;y++)(64512&(g=p.charCodeAt(y)))==55296&&y+1<C&&(64512&(_=p.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(_-56320),y++),g<128?d[S++]=g:(g<2048?d[S++]=192|g>>>6:(g<65536?d[S++]=224|g>>>12:(d[S++]=240|g>>>18,d[S++]=128|g>>>12&63),d[S++]=128|g>>>6&63),d[S++]=128|63&g);return d})(c)},a.utf8decode=function(c){return o.nodebuffer?i.transformTo("nodebuffer",c).toString("utf-8"):(function(p){var d,g,_,y,S=p.length,C=new Array(2*S);for(d=g=0;d<S;)if((_=p[d++])<128)C[g++]=_;else if(4<(y=h[_]))C[g++]=65533,d+=y-1;else{for(_&=y===2?31:y===3?15:7;1<y&&d<S;)_=_<<6|63&p[d++],y--;1<y?C[g++]=65533:_<65536?C[g++]=_:(_-=65536,C[g++]=55296|_>>10&1023,C[g++]=56320|1023&_)}return C.length!==g&&(C.subarray?C=C.subarray(0,g):C.length=g),i.applyFromCharCode(C)})(c=i.transformTo(o.uint8array?"uint8array":"array",c))},i.inherits(v,f),v.prototype.processChunk=function(c){var p=i.transformTo(o.uint8array?"uint8array":"array",c.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var d=p;(p=new Uint8Array(d.length+this.leftOver.length)).set(this.leftOver,0),p.set(d,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var g=(function(y,S){var C;for((S=S||y.length)>y.length&&(S=y.length),C=S-1;0<=C&&(192&y[C])==128;)C--;return C<0||C===0?S:C+h[y[C]]>S?C:S})(p),_=p;g!==p.length&&(o.uint8array?(_=p.subarray(0,g),this.leftOver=p.subarray(g,p.length)):(_=p.slice(0,g),this.leftOver=p.slice(g,p.length))),this.push({data:a.utf8decode(_),meta:c.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=v,i.inherits(m,f),m.prototype.processChunk=function(c){this.push({data:a.utf8encode(c.data),meta:c.meta})},a.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,l,a){var i=t("./support"),o=t("./base64"),n=t("./nodejsUtils"),f=t("./external");function h(d){return d}function b(d,g){for(var _=0;_<d.length;++_)g[_]=255&d.charCodeAt(_);return g}t("setimmediate"),a.newBlob=function(d,g){a.checkSupport("blob");try{return new Blob([d],{type:g})}catch{try{var _=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return _.append(d),_.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(d,g,_){var y=[],S=0,C=d.length;if(C<=_)return String.fromCharCode.apply(null,d);for(;S<C;)g==="array"||g==="nodebuffer"?y.push(String.fromCharCode.apply(null,d.slice(S,Math.min(S+_,C)))):y.push(String.fromCharCode.apply(null,d.subarray(S,Math.min(S+_,C)))),S+=_;return y.join("")},stringifyByChar:function(d){for(var g="",_=0;_<d.length;_++)g+=String.fromCharCode(d[_]);return g},applyCanBeUsed:{uint8array:(function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,n.allocBuffer(1)).length===1}catch{return!1}})()}};function m(d){var g=65536,_=a.getTypeOf(d),y=!0;if(_==="uint8array"?y=v.applyCanBeUsed.uint8array:_==="nodebuffer"&&(y=v.applyCanBeUsed.nodebuffer),y)for(;1<g;)try{return v.stringifyByChunk(d,_,g)}catch{g=Math.floor(g/2)}return v.stringifyByChar(d)}function c(d,g){for(var _=0;_<d.length;_++)g[_]=d[_];return g}a.applyFromCharCode=m;var p={};p.string={string:h,array:function(d){return b(d,new Array(d.length))},arraybuffer:function(d){return p.string.uint8array(d).buffer},uint8array:function(d){return b(d,new Uint8Array(d.length))},nodebuffer:function(d){return b(d,n.allocBuffer(d.length))}},p.array={string:m,array:h,arraybuffer:function(d){return new Uint8Array(d).buffer},uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return n.newBufferFrom(d)}},p.arraybuffer={string:function(d){return m(new Uint8Array(d))},array:function(d){return c(new Uint8Array(d),new Array(d.byteLength))},arraybuffer:h,uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return n.newBufferFrom(new Uint8Array(d))}},p.uint8array={string:m,array:function(d){return c(d,new Array(d.length))},arraybuffer:function(d){return d.buffer},uint8array:h,nodebuffer:function(d){return n.newBufferFrom(d)}},p.nodebuffer={string:m,array:function(d){return c(d,new Array(d.length))},arraybuffer:function(d){return p.nodebuffer.uint8array(d).buffer},uint8array:function(d){return c(d,new Uint8Array(d.length))},nodebuffer:h},a.transformTo=function(d,g){if(g=g||"",!d)return g;a.checkSupport(d);var _=a.getTypeOf(g);return p[_][d](g)},a.resolve=function(d){for(var g=d.split("/"),_=[],y=0;y<g.length;y++){var S=g[y];S==="."||S===""&&y!==0&&y!==g.length-1||(S===".."?_.pop():_.push(S))}return _.join("/")},a.getTypeOf=function(d){return typeof d=="string"?"string":Object.prototype.toString.call(d)==="[object Array]"?"array":i.nodebuffer&&n.isBuffer(d)?"nodebuffer":i.uint8array&&d instanceof Uint8Array?"uint8array":i.arraybuffer&&d instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(d){if(!i[d.toLowerCase()])throw new Error(d+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(d){var g,_,y="";for(_=0;_<(d||"").length;_++)y+="\\x"+((g=d.charCodeAt(_))<16?"0":"")+g.toString(16).toUpperCase();return y},a.delay=function(d,g,_){setImmediate(function(){d.apply(_||null,g||[])})},a.inherits=function(d,g){function _(){}_.prototype=g.prototype,d.prototype=new _},a.extend=function(){var d,g,_={};for(d=0;d<arguments.length;d++)for(g in arguments[d])Object.prototype.hasOwnProperty.call(arguments[d],g)&&_[g]===void 0&&(_[g]=arguments[d][g]);return _},a.prepareContent=function(d,g,_,y,S){return f.Promise.resolve(g).then(function(C){return i.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new f.Promise(function(A,F){var R=new FileReader;R.onload=function(M){A(M.target.result)},R.onerror=function(M){F(M.target.error)},R.readAsArrayBuffer(C)}):C}).then(function(C){var A=a.getTypeOf(C);return A?(A==="arraybuffer"?C=a.transformTo("uint8array",C):A==="string"&&(S?C=o.decode(C):_&&y!==!0&&(C=(function(F){return b(F,i.uint8array?new Uint8Array(F.length):new Array(F.length))})(C))),C):f.Promise.reject(new Error("Can't read the data of '"+d+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,l,a){var i=t("./reader/readerFor"),o=t("./utils"),n=t("./signature"),f=t("./zipEntry"),h=t("./support");function b(v){this.files=[],this.loadOptions=v}b.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(m)+", expected "+o.pretty(v)+")")}},isSignature:function(v,m){var c=this.reader.index;this.reader.setIndex(v);var p=this.reader.readString(4)===m;return this.reader.setIndex(c),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),m=h.uint8array?"uint8array":"array",c=o.transformTo(m,v);this.zipComment=this.loadOptions.decodeFileName(c)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,m,c,p=this.zip64EndOfCentralSize-44;0<p;)v=this.reader.readInt(2),m=this.reader.readInt(4),c=this.reader.readData(m),this.zip64ExtensibleData[v]={id:v,length:m,value:c}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,m;for(v=0;v<this.files.length;v++)m=this.files[v],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(n.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(n.CENTRAL_FILE_HEADER);)(v=new f({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(n.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,n.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var m=v;if(this.checkSignature(n.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(n.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(n.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,n.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(n.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(n.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var c=this.centralDirOffset+this.centralDirSize;this.zip64&&(c+=20,c+=12+this.zip64EndOfCentralSize);var p=m-c;if(0<p)this.isSignature(m,n.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(v){this.reader=i(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},l.exports=b},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,l,a){var i=t("./reader/readerFor"),o=t("./utils"),n=t("./compressedObject"),f=t("./crc32"),h=t("./utf8"),b=t("./compressions"),v=t("./support");function m(c,p){this.options=c,this.loadOptions=p}m.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(c){var p,d;if(c.skip(22),this.fileNameLength=c.readInt(2),d=c.readInt(2),this.fileName=c.readData(this.fileNameLength),c.skip(d),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=(function(g){for(var _ in b)if(Object.prototype.hasOwnProperty.call(b,_)&&b[_].magic===g)return b[_];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new n(this.compressedSize,this.uncompressedSize,this.crc32,p,c.readData(this.compressedSize))},readCentralPart:function(c){this.versionMadeBy=c.readInt(2),c.skip(2),this.bitFlag=c.readInt(2),this.compressionMethod=c.readString(2),this.date=c.readDate(),this.crc32=c.readInt(4),this.compressedSize=c.readInt(4),this.uncompressedSize=c.readInt(4);var p=c.readInt(2);if(this.extraFieldsLength=c.readInt(2),this.fileCommentLength=c.readInt(2),this.diskNumberStart=c.readInt(2),this.internalFileAttributes=c.readInt(2),this.externalFileAttributes=c.readInt(4),this.localHeaderOffset=c.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");c.skip(p),this.readExtraFields(c),this.parseZIP64ExtraField(c),this.fileComment=c.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var c=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),c==0&&(this.dosPermissions=63&this.externalFileAttributes),c==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var c=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=c.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=c.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=c.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=c.readInt(4))}},readExtraFields:function(c){var p,d,g,_=c.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});c.index+4<_;)p=c.readInt(2),d=c.readInt(2),g=c.readData(d),this.extraFields[p]={id:p,length:d,value:g};c.setIndex(_)},handleUTF8:function(){var c=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var d=o.transformTo(c,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(d)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var _=o.transformTo(c,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(_)}}},findExtraFieldUnicodePath:function(){var c=this.extraFields[28789];if(c){var p=i(c.value);return p.readInt(1)!==1||f(this.fileName)!==p.readInt(4)?null:h.utf8decode(p.readData(c.length-5))}return null},findExtraFieldUnicodeComment:function(){var c=this.extraFields[25461];if(c){var p=i(c.value);return p.readInt(1)!==1||f(this.fileComment)!==p.readInt(4)?null:h.utf8decode(p.readData(c.length-5))}return null}},l.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,l,a){function i(p,d,g){this.name=p,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=d,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var o=t("./stream/StreamHelper"),n=t("./stream/DataWorker"),f=t("./utf8"),h=t("./compressedObject"),b=t("./stream/GenericWorker");i.prototype={internalStream:function(p){var d=null,g="string";try{if(!p)throw new Error("No output type specified.");var _=(g=p.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),d=this._decompressWorker();var y=!this._dataBinary;y&&!_&&(d=d.pipe(new f.Utf8EncodeWorker)),!y&&_&&(d=d.pipe(new f.Utf8DecodeWorker))}catch(S){(d=new b("error")).error(S)}return new o(d,g,"")},async:function(p,d){return this.internalStream(p).accumulate(d)},nodeStream:function(p,d){return this.internalStream(p||"nodebuffer").toNodejsStream(d)},_compressWorker:function(p,d){if(this._data instanceof h&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new f.Utf8EncodeWorker)),h.createWorkerFrom(g,p,d)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof b?this._data:new n(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<v.length;c++)i.prototype[v[c]]=m;l.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,l,a){(function(i){var o,n,f=i.MutationObserver||i.WebKitMutationObserver;if(f){var h=0,b=new f(p),v=i.document.createTextNode("");b.observe(v,{characterData:!0}),o=function(){v.data=h=++h%2}}else if(i.setImmediate||i.MessageChannel===void 0)o="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var d=i.document.createElement("script");d.onreadystatechange=function(){p(),d.onreadystatechange=null,d.parentNode.removeChild(d),d=null},i.document.documentElement.appendChild(d)}:function(){setTimeout(p,0)};else{var m=new i.MessageChannel;m.port1.onmessage=p,o=function(){m.port2.postMessage(0)}}var c=[];function p(){var d,g;n=!0;for(var _=c.length;_;){for(g=c,c=[],d=-1;++d<_;)g[d]();_=c.length}n=!1}l.exports=function(d){c.push(d)!==1||n||o()}}).call(this,typeof Qe<"u"?Qe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,l,a){var i=t("immediate");function o(){}var n={},f=["REJECTED"],h=["FULFILLED"],b=["PENDING"];function v(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,_!==o&&d(this,_)}function m(_,y,S){this.promise=_,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}function c(_,y,S){i(function(){var C;try{C=y(S)}catch(A){return n.reject(_,A)}C===_?n.reject(_,new TypeError("Cannot resolve promise with itself")):n.resolve(_,C)})}function p(_){var y=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof y=="function")return function(){y.apply(_,arguments)}}function d(_,y){var S=!1;function C(R){S||(S=!0,n.reject(_,R))}function A(R){S||(S=!0,n.resolve(_,R))}var F=g(function(){y(A,C)});F.status==="error"&&C(F.value)}function g(_,y){var S={};try{S.value=_(y),S.status="success"}catch(C){S.status="error",S.value=C}return S}(l.exports=v).prototype.finally=function(_){if(typeof _!="function")return this;var y=this.constructor;return this.then(function(S){return y.resolve(_()).then(function(){return S})},function(S){return y.resolve(_()).then(function(){throw S})})},v.prototype.catch=function(_){return this.then(null,_)},v.prototype.then=function(_,y){if(typeof _!="function"&&this.state===h||typeof y!="function"&&this.state===f)return this;var S=new this.constructor(o);return this.state!==b?c(S,this.state===h?_:y,this.outcome):this.queue.push(new m(S,_,y)),S},m.prototype.callFulfilled=function(_){n.resolve(this.promise,_)},m.prototype.otherCallFulfilled=function(_){c(this.promise,this.onFulfilled,_)},m.prototype.callRejected=function(_){n.reject(this.promise,_)},m.prototype.otherCallRejected=function(_){c(this.promise,this.onRejected,_)},n.resolve=function(_,y){var S=g(p,y);if(S.status==="error")return n.reject(_,S.value);var C=S.value;if(C)d(_,C);else{_.state=h,_.outcome=y;for(var A=-1,F=_.queue.length;++A<F;)_.queue[A].callFulfilled(y)}return _},n.reject=function(_,y){_.state=f,_.outcome=y;for(var S=-1,C=_.queue.length;++S<C;)_.queue[S].callRejected(y);return _},v.resolve=function(_){return _ instanceof this?_:n.resolve(new this(o),_)},v.reject=function(_){var y=new this(o);return n.reject(y,_)},v.all=function(_){var y=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=_.length,C=!1;if(!S)return this.resolve([]);for(var A=new Array(S),F=0,R=-1,M=new this(o);++R<S;)T(_[R],R);return M;function T(q,J){y.resolve(q).then(function(x){A[J]=x,++F!==S||C||(C=!0,n.resolve(M,A))},function(x){C||(C=!0,n.reject(M,x))})}},v.race=function(_){var y=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=_.length,C=!1;if(!S)return this.resolve([]);for(var A=-1,F=new this(o);++A<S;)R=_[A],y.resolve(R).then(function(M){C||(C=!0,n.resolve(F,M))},function(M){C||(C=!0,n.reject(F,M))});var R;return F}},{immediate:36}],38:[function(t,l,a){var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),l.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,l,a){var i=t("./zlib/deflate"),o=t("./utils/common"),n=t("./utils/strings"),f=t("./zlib/messages"),h=t("./zlib/zstream"),b=Object.prototype.toString,v=0,m=-1,c=0,p=8;function d(_){if(!(this instanceof d))return new d(_);this.options=o.assign({level:m,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},_||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var S=i.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(S!==v)throw new Error(f[S]);if(y.header&&i.deflateSetHeader(this.strm,y.header),y.dictionary){var C;if(C=typeof y.dictionary=="string"?n.string2buf(y.dictionary):b.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(S=i.deflateSetDictionary(this.strm,C))!==v)throw new Error(f[S]);this._dict_set=!0}}function g(_,y){var S=new d(y);if(S.push(_,!0),S.err)throw S.msg||f[S.err];return S.result}d.prototype.push=function(_,y){var S,C,A=this.strm,F=this.options.chunkSize;if(this.ended)return!1;C=y===~~y?y:y===!0?4:0,typeof _=="string"?A.input=n.string2buf(_):b.call(_)==="[object ArrayBuffer]"?A.input=new Uint8Array(_):A.input=_,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new o.Buf8(F),A.next_out=0,A.avail_out=F),(S=i.deflate(A,C))!==1&&S!==v)return this.onEnd(S),!(this.ended=!0);A.avail_out!==0&&(A.avail_in!==0||C!==4&&C!==2)||(this.options.to==="string"?this.onData(n.buf2binstring(o.shrinkBuf(A.output,A.next_out))):this.onData(o.shrinkBuf(A.output,A.next_out)))}while((0<A.avail_in||A.avail_out===0)&&S!==1);return C===4?(S=i.deflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===v):C!==2||(this.onEnd(v),!(A.avail_out=0))},d.prototype.onData=function(_){this.chunks.push(_)},d.prototype.onEnd=function(_){_===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},a.Deflate=d,a.deflate=g,a.deflateRaw=function(_,y){return(y=y||{}).raw=!0,g(_,y)},a.gzip=function(_,y){return(y=y||{}).gzip=!0,g(_,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,l,a){var i=t("./zlib/inflate"),o=t("./utils/common"),n=t("./utils/strings"),f=t("./zlib/constants"),h=t("./zlib/messages"),b=t("./zlib/zstream"),v=t("./zlib/gzheader"),m=Object.prototype.toString;function c(d){if(!(this instanceof c))return new c(d);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},d||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||d&&d.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b,this.strm.avail_out=0;var _=i.inflateInit2(this.strm,g.windowBits);if(_!==f.Z_OK)throw new Error(h[_]);this.header=new v,i.inflateGetHeader(this.strm,this.header)}function p(d,g){var _=new c(g);if(_.push(d,!0),_.err)throw _.msg||h[_.err];return _.result}c.prototype.push=function(d,g){var _,y,S,C,A,F,R=this.strm,M=this.options.chunkSize,T=this.options.dictionary,q=!1;if(this.ended)return!1;y=g===~~g?g:g===!0?f.Z_FINISH:f.Z_NO_FLUSH,typeof d=="string"?R.input=n.binstring2buf(d):m.call(d)==="[object ArrayBuffer]"?R.input=new Uint8Array(d):R.input=d,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new o.Buf8(M),R.next_out=0,R.avail_out=M),(_=i.inflate(R,f.Z_NO_FLUSH))===f.Z_NEED_DICT&&T&&(F=typeof T=="string"?n.string2buf(T):m.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,_=i.inflateSetDictionary(this.strm,F)),_===f.Z_BUF_ERROR&&q===!0&&(_=f.Z_OK,q=!1),_!==f.Z_STREAM_END&&_!==f.Z_OK)return this.onEnd(_),!(this.ended=!0);R.next_out&&(R.avail_out!==0&&_!==f.Z_STREAM_END&&(R.avail_in!==0||y!==f.Z_FINISH&&y!==f.Z_SYNC_FLUSH)||(this.options.to==="string"?(S=n.utf8border(R.output,R.next_out),C=R.next_out-S,A=n.buf2string(R.output,S),R.next_out=C,R.avail_out=M-C,C&&o.arraySet(R.output,R.output,S,C,0),this.onData(A)):this.onData(o.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&(q=!0)}while((0<R.avail_in||R.avail_out===0)&&_!==f.Z_STREAM_END);return _===f.Z_STREAM_END&&(y=f.Z_FINISH),y===f.Z_FINISH?(_=i.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===f.Z_OK):y!==f.Z_SYNC_FLUSH||(this.onEnd(f.Z_OK),!(R.avail_out=0))},c.prototype.onData=function(d){this.chunks.push(d)},c.prototype.onEnd=function(d){d===f.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},a.Inflate=c,a.inflate=p,a.inflateRaw=function(d,g){return(g=g||{}).raw=!0,p(d,g)},a.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,l,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(f){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var b=h.shift();if(b){if(typeof b!="object")throw new TypeError(b+"must be non-object");for(var v in b)b.hasOwnProperty(v)&&(f[v]=b[v])}}return f},a.shrinkBuf=function(f,h){return f.length===h?f:f.subarray?f.subarray(0,h):(f.length=h,f)};var o={arraySet:function(f,h,b,v,m){if(h.subarray&&f.subarray)f.set(h.subarray(b,b+v),m);else for(var c=0;c<v;c++)f[m+c]=h[b+c]},flattenChunks:function(f){var h,b,v,m,c,p;for(h=v=0,b=f.length;h<b;h++)v+=f[h].length;for(p=new Uint8Array(v),h=m=0,b=f.length;h<b;h++)c=f[h],p.set(c,m),m+=c.length;return p}},n={arraySet:function(f,h,b,v,m){for(var c=0;c<v;c++)f[m+c]=h[b+c]},flattenChunks:function(f){return[].concat.apply([],f)}};a.setTyped=function(f){f?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,o)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,n))},a.setTyped(i)},{}],42:[function(t,l,a){var i=t("./common"),o=!0,n=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{n=!1}for(var f=new i.Buf8(256),h=0;h<256;h++)f[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function b(v,m){if(m<65537&&(v.subarray&&n||!v.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(v,m));for(var c="",p=0;p<m;p++)c+=String.fromCharCode(v[p]);return c}f[254]=f[254]=1,a.string2buf=function(v){var m,c,p,d,g,_=v.length,y=0;for(d=0;d<_;d++)(64512&(c=v.charCodeAt(d)))==55296&&d+1<_&&(64512&(p=v.charCodeAt(d+1)))==56320&&(c=65536+(c-55296<<10)+(p-56320),d++),y+=c<128?1:c<2048?2:c<65536?3:4;for(m=new i.Buf8(y),d=g=0;g<y;d++)(64512&(c=v.charCodeAt(d)))==55296&&d+1<_&&(64512&(p=v.charCodeAt(d+1)))==56320&&(c=65536+(c-55296<<10)+(p-56320),d++),c<128?m[g++]=c:(c<2048?m[g++]=192|c>>>6:(c<65536?m[g++]=224|c>>>12:(m[g++]=240|c>>>18,m[g++]=128|c>>>12&63),m[g++]=128|c>>>6&63),m[g++]=128|63&c);return m},a.buf2binstring=function(v){return b(v,v.length)},a.binstring2buf=function(v){for(var m=new i.Buf8(v.length),c=0,p=m.length;c<p;c++)m[c]=v.charCodeAt(c);return m},a.buf2string=function(v,m){var c,p,d,g,_=m||v.length,y=new Array(2*_);for(c=p=0;c<_;)if((d=v[c++])<128)y[p++]=d;else if(4<(g=f[d]))y[p++]=65533,c+=g-1;else{for(d&=g===2?31:g===3?15:7;1<g&&c<_;)d=d<<6|63&v[c++],g--;1<g?y[p++]=65533:d<65536?y[p++]=d:(d-=65536,y[p++]=55296|d>>10&1023,y[p++]=56320|1023&d)}return b(y,p)},a.utf8border=function(v,m){var c;for((m=m||v.length)>v.length&&(m=v.length),c=m-1;0<=c&&(192&v[c])==128;)c--;return c<0||c===0?m:c+f[v[c]]>m?c:m}},{"./common":41}],43:[function(t,l,a){l.exports=function(i,o,n,f){for(var h=65535&i|0,b=i>>>16&65535|0,v=0;n!==0;){for(n-=v=2e3<n?2e3:n;b=b+(h=h+o[f++]|0)|0,--v;);h%=65521,b%=65521}return h|b<<16|0}},{}],44:[function(t,l,a){l.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,l,a){var i=(function(){for(var o,n=[],f=0;f<256;f++){o=f;for(var h=0;h<8;h++)o=1&o?3988292384^o>>>1:o>>>1;n[f]=o}return n})();l.exports=function(o,n,f,h){var b=i,v=h+f;o^=-1;for(var m=h;m<v;m++)o=o>>>8^b[255&(o^n[m])];return-1^o}},{}],46:[function(t,l,a){var i,o=t("../utils/common"),n=t("./trees"),f=t("./adler32"),h=t("./crc32"),b=t("./messages"),v=0,m=4,c=0,p=-2,d=-1,g=4,_=2,y=8,S=9,C=286,A=30,F=19,R=2*C+1,M=15,T=3,q=258,J=q+T+1,x=42,N=113,u=1,U=2,tt=3,P=4;function V(s,L){return s.msg=b[L],L}function j(s){return(s<<1)-(4<s?9:0)}function Y(s){for(var L=s.length;0<=--L;)s[L]=0}function O(s){var L=s.state,B=L.pending;B>s.avail_out&&(B=s.avail_out),B!==0&&(o.arraySet(s.output,L.pending_buf,L.pending_out,B,s.next_out),s.next_out+=B,L.pending_out+=B,s.total_out+=B,s.avail_out-=B,L.pending-=B,L.pending===0&&(L.pending_out=0))}function I(s,L){n._tr_flush_block(s,0<=s.block_start?s.block_start:-1,s.strstart-s.block_start,L),s.block_start=s.strstart,O(s.strm)}function Q(s,L){s.pending_buf[s.pending++]=L}function K(s,L){s.pending_buf[s.pending++]=L>>>8&255,s.pending_buf[s.pending++]=255&L}function H(s,L){var B,k,w=s.max_chain_length,E=s.strstart,W=s.prev_length,Z=s.nice_match,z=s.strstart>s.w_size-J?s.strstart-(s.w_size-J):0,G=s.window,X=s.w_mask,$=s.prev,et=s.strstart+q,dt=G[E+W-1],st=G[E+W];s.prev_length>=s.good_match&&(w>>=2),Z>s.lookahead&&(Z=s.lookahead);do if(G[(B=L)+W]===st&&G[B+W-1]===dt&&G[B]===G[E]&&G[++B]===G[E+1]){E+=2,B++;do;while(G[++E]===G[++B]&&G[++E]===G[++B]&&G[++E]===G[++B]&&G[++E]===G[++B]&&G[++E]===G[++B]&&G[++E]===G[++B]&&G[++E]===G[++B]&&G[++E]===G[++B]&&E<et);if(k=q-(et-E),E=et-q,W<k){if(s.match_start=L,Z<=(W=k))break;dt=G[E+W-1],st=G[E+W]}}while((L=$[L&X])>z&&--w!=0);return W<=s.lookahead?W:s.lookahead}function ft(s){var L,B,k,w,E,W,Z,z,G,X,$=s.w_size;do{if(w=s.window_size-s.lookahead-s.strstart,s.strstart>=$+($-J)){for(o.arraySet(s.window,s.window,$,$,0),s.match_start-=$,s.strstart-=$,s.block_start-=$,L=B=s.hash_size;k=s.head[--L],s.head[L]=$<=k?k-$:0,--B;);for(L=B=$;k=s.prev[--L],s.prev[L]=$<=k?k-$:0,--B;);w+=$}if(s.strm.avail_in===0)break;if(W=s.strm,Z=s.window,z=s.strstart+s.lookahead,G=w,X=void 0,X=W.avail_in,G<X&&(X=G),B=X===0?0:(W.avail_in-=X,o.arraySet(Z,W.input,W.next_in,X,z),W.state.wrap===1?W.adler=f(W.adler,Z,X,z):W.state.wrap===2&&(W.adler=h(W.adler,Z,X,z)),W.next_in+=X,W.total_in+=X,X),s.lookahead+=B,s.lookahead+s.insert>=T)for(E=s.strstart-s.insert,s.ins_h=s.window[E],s.ins_h=(s.ins_h<<s.hash_shift^s.window[E+1])&s.hash_mask;s.insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[E+T-1])&s.hash_mask,s.prev[E&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=E,E++,s.insert--,!(s.lookahead+s.insert<T)););}while(s.lookahead<J&&s.strm.avail_in!==0)}function pt(s,L){for(var B,k;;){if(s.lookahead<J){if(ft(s),s.lookahead<J&&L===v)return u;if(s.lookahead===0)break}if(B=0,s.lookahead>=T&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+T-1])&s.hash_mask,B=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),B!==0&&s.strstart-B<=s.w_size-J&&(s.match_length=H(s,B)),s.match_length>=T)if(k=n._tr_tally(s,s.strstart-s.match_start,s.match_length-T),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=T){for(s.match_length--;s.strstart++,s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+T-1])&s.hash_mask,B=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart,--s.match_length!=0;);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+1])&s.hash_mask;else k=n._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(k&&(I(s,!1),s.strm.avail_out===0))return u}return s.insert=s.strstart<T-1?s.strstart:T-1,L===m?(I(s,!0),s.strm.avail_out===0?tt:P):s.last_lit&&(I(s,!1),s.strm.avail_out===0)?u:U}function rt(s,L){for(var B,k,w;;){if(s.lookahead<J){if(ft(s),s.lookahead<J&&L===v)return u;if(s.lookahead===0)break}if(B=0,s.lookahead>=T&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+T-1])&s.hash_mask,B=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=T-1,B!==0&&s.prev_length<s.max_lazy_match&&s.strstart-B<=s.w_size-J&&(s.match_length=H(s,B),s.match_length<=5&&(s.strategy===1||s.match_length===T&&4096<s.strstart-s.match_start)&&(s.match_length=T-1)),s.prev_length>=T&&s.match_length<=s.prev_length){for(w=s.strstart+s.lookahead-T,k=n._tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-T),s.lookahead-=s.prev_length-1,s.prev_length-=2;++s.strstart<=w&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+T-1])&s.hash_mask,B=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),--s.prev_length!=0;);if(s.match_available=0,s.match_length=T-1,s.strstart++,k&&(I(s,!1),s.strm.avail_out===0))return u}else if(s.match_available){if((k=n._tr_tally(s,0,s.window[s.strstart-1]))&&I(s,!1),s.strstart++,s.lookahead--,s.strm.avail_out===0)return u}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(k=n._tr_tally(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<T-1?s.strstart:T-1,L===m?(I(s,!0),s.strm.avail_out===0?tt:P):s.last_lit&&(I(s,!1),s.strm.avail_out===0)?u:U}function nt(s,L,B,k,w){this.good_length=s,this.max_lazy=L,this.nice_length=B,this.max_chain=k,this.func=w}function ut(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*R),this.dyn_dtree=new o.Buf16(2*(2*A+1)),this.bl_tree=new o.Buf16(2*(2*F+1)),Y(this.dyn_ltree),Y(this.dyn_dtree),Y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(M+1),this.heap=new o.Buf16(2*C+1),Y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*C+1),Y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ct(s){var L;return s&&s.state?(s.total_in=s.total_out=0,s.data_type=_,(L=s.state).pending=0,L.pending_out=0,L.wrap<0&&(L.wrap=-L.wrap),L.status=L.wrap?x:N,s.adler=L.wrap===2?0:1,L.last_flush=v,n._tr_init(L),c):V(s,p)}function At(s){var L=ct(s);return L===c&&(function(B){B.window_size=2*B.w_size,Y(B.head),B.max_lazy_match=i[B.level].max_lazy,B.good_match=i[B.level].good_length,B.nice_match=i[B.level].nice_length,B.max_chain_length=i[B.level].max_chain,B.strstart=0,B.block_start=0,B.lookahead=0,B.insert=0,B.match_length=B.prev_length=T-1,B.match_available=0,B.ins_h=0})(s.state),L}function Ct(s,L,B,k,w,E){if(!s)return p;var W=1;if(L===d&&(L=6),k<0?(W=0,k=-k):15<k&&(W=2,k-=16),w<1||S<w||B!==y||k<8||15<k||L<0||9<L||E<0||g<E)return V(s,p);k===8&&(k=9);var Z=new ut;return(s.state=Z).strm=s,Z.wrap=W,Z.gzhead=null,Z.w_bits=k,Z.w_size=1<<Z.w_bits,Z.w_mask=Z.w_size-1,Z.hash_bits=w+7,Z.hash_size=1<<Z.hash_bits,Z.hash_mask=Z.hash_size-1,Z.hash_shift=~~((Z.hash_bits+T-1)/T),Z.window=new o.Buf8(2*Z.w_size),Z.head=new o.Buf16(Z.hash_size),Z.prev=new o.Buf16(Z.w_size),Z.lit_bufsize=1<<w+6,Z.pending_buf_size=4*Z.lit_bufsize,Z.pending_buf=new o.Buf8(Z.pending_buf_size),Z.d_buf=1*Z.lit_bufsize,Z.l_buf=3*Z.lit_bufsize,Z.level=L,Z.strategy=E,Z.method=B,At(s)}i=[new nt(0,0,0,0,function(s,L){var B=65535;for(B>s.pending_buf_size-5&&(B=s.pending_buf_size-5);;){if(s.lookahead<=1){if(ft(s),s.lookahead===0&&L===v)return u;if(s.lookahead===0)break}s.strstart+=s.lookahead,s.lookahead=0;var k=s.block_start+B;if((s.strstart===0||s.strstart>=k)&&(s.lookahead=s.strstart-k,s.strstart=k,I(s,!1),s.strm.avail_out===0)||s.strstart-s.block_start>=s.w_size-J&&(I(s,!1),s.strm.avail_out===0))return u}return s.insert=0,L===m?(I(s,!0),s.strm.avail_out===0?tt:P):(s.strstart>s.block_start&&(I(s,!1),s.strm.avail_out),u)}),new nt(4,4,8,4,pt),new nt(4,5,16,8,pt),new nt(4,6,32,32,pt),new nt(4,4,16,16,rt),new nt(8,16,32,32,rt),new nt(8,16,128,128,rt),new nt(8,32,128,256,rt),new nt(32,128,258,1024,rt),new nt(32,258,258,4096,rt)],a.deflateInit=function(s,L){return Ct(s,L,y,15,8,0)},a.deflateInit2=Ct,a.deflateReset=At,a.deflateResetKeep=ct,a.deflateSetHeader=function(s,L){return s&&s.state?s.state.wrap!==2?p:(s.state.gzhead=L,c):p},a.deflate=function(s,L){var B,k,w,E;if(!s||!s.state||5<L||L<0)return s?V(s,p):p;if(k=s.state,!s.output||!s.input&&s.avail_in!==0||k.status===666&&L!==m)return V(s,s.avail_out===0?-5:p);if(k.strm=s,B=k.last_flush,k.last_flush=L,k.status===x)if(k.wrap===2)s.adler=0,Q(k,31),Q(k,139),Q(k,8),k.gzhead?(Q(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),Q(k,255&k.gzhead.time),Q(k,k.gzhead.time>>8&255),Q(k,k.gzhead.time>>16&255),Q(k,k.gzhead.time>>24&255),Q(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),Q(k,255&k.gzhead.os),k.gzhead.extra&&k.gzhead.extra.length&&(Q(k,255&k.gzhead.extra.length),Q(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(s.adler=h(s.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=69):(Q(k,0),Q(k,0),Q(k,0),Q(k,0),Q(k,0),Q(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),Q(k,3),k.status=N);else{var W=y+(k.w_bits-8<<4)<<8;W|=(2<=k.strategy||k.level<2?0:k.level<6?1:k.level===6?2:3)<<6,k.strstart!==0&&(W|=32),W+=31-W%31,k.status=N,K(k,W),k.strstart!==0&&(K(k,s.adler>>>16),K(k,65535&s.adler)),s.adler=1}if(k.status===69)if(k.gzhead.extra){for(w=k.pending;k.gzindex<(65535&k.gzhead.extra.length)&&(k.pending!==k.pending_buf_size||(k.gzhead.hcrc&&k.pending>w&&(s.adler=h(s.adler,k.pending_buf,k.pending-w,w)),O(s),w=k.pending,k.pending!==k.pending_buf_size));)Q(k,255&k.gzhead.extra[k.gzindex]),k.gzindex++;k.gzhead.hcrc&&k.pending>w&&(s.adler=h(s.adler,k.pending_buf,k.pending-w,w)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=73)}else k.status=73;if(k.status===73)if(k.gzhead.name){w=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>w&&(s.adler=h(s.adler,k.pending_buf,k.pending-w,w)),O(s),w=k.pending,k.pending===k.pending_buf_size)){E=1;break}E=k.gzindex<k.gzhead.name.length?255&k.gzhead.name.charCodeAt(k.gzindex++):0,Q(k,E)}while(E!==0);k.gzhead.hcrc&&k.pending>w&&(s.adler=h(s.adler,k.pending_buf,k.pending-w,w)),E===0&&(k.gzindex=0,k.status=91)}else k.status=91;if(k.status===91)if(k.gzhead.comment){w=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>w&&(s.adler=h(s.adler,k.pending_buf,k.pending-w,w)),O(s),w=k.pending,k.pending===k.pending_buf_size)){E=1;break}E=k.gzindex<k.gzhead.comment.length?255&k.gzhead.comment.charCodeAt(k.gzindex++):0,Q(k,E)}while(E!==0);k.gzhead.hcrc&&k.pending>w&&(s.adler=h(s.adler,k.pending_buf,k.pending-w,w)),E===0&&(k.status=103)}else k.status=103;if(k.status===103&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&O(s),k.pending+2<=k.pending_buf_size&&(Q(k,255&s.adler),Q(k,s.adler>>8&255),s.adler=0,k.status=N)):k.status=N),k.pending!==0){if(O(s),s.avail_out===0)return k.last_flush=-1,c}else if(s.avail_in===0&&j(L)<=j(B)&&L!==m)return V(s,-5);if(k.status===666&&s.avail_in!==0)return V(s,-5);if(s.avail_in!==0||k.lookahead!==0||L!==v&&k.status!==666){var Z=k.strategy===2?(function(z,G){for(var X;;){if(z.lookahead===0&&(ft(z),z.lookahead===0)){if(G===v)return u;break}if(z.match_length=0,X=n._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++,X&&(I(z,!1),z.strm.avail_out===0))return u}return z.insert=0,G===m?(I(z,!0),z.strm.avail_out===0?tt:P):z.last_lit&&(I(z,!1),z.strm.avail_out===0)?u:U})(k,L):k.strategy===3?(function(z,G){for(var X,$,et,dt,st=z.window;;){if(z.lookahead<=q){if(ft(z),z.lookahead<=q&&G===v)return u;if(z.lookahead===0)break}if(z.match_length=0,z.lookahead>=T&&0<z.strstart&&($=st[et=z.strstart-1])===st[++et]&&$===st[++et]&&$===st[++et]){dt=z.strstart+q;do;while($===st[++et]&&$===st[++et]&&$===st[++et]&&$===st[++et]&&$===st[++et]&&$===st[++et]&&$===st[++et]&&$===st[++et]&&et<dt);z.match_length=q-(dt-et),z.match_length>z.lookahead&&(z.match_length=z.lookahead)}if(z.match_length>=T?(X=n._tr_tally(z,1,z.match_length-T),z.lookahead-=z.match_length,z.strstart+=z.match_length,z.match_length=0):(X=n._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++),X&&(I(z,!1),z.strm.avail_out===0))return u}return z.insert=0,G===m?(I(z,!0),z.strm.avail_out===0?tt:P):z.last_lit&&(I(z,!1),z.strm.avail_out===0)?u:U})(k,L):i[k.level].func(k,L);if(Z!==tt&&Z!==P||(k.status=666),Z===u||Z===tt)return s.avail_out===0&&(k.last_flush=-1),c;if(Z===U&&(L===1?n._tr_align(k):L!==5&&(n._tr_stored_block(k,0,0,!1),L===3&&(Y(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),O(s),s.avail_out===0))return k.last_flush=-1,c}return L!==m?c:k.wrap<=0?1:(k.wrap===2?(Q(k,255&s.adler),Q(k,s.adler>>8&255),Q(k,s.adler>>16&255),Q(k,s.adler>>24&255),Q(k,255&s.total_in),Q(k,s.total_in>>8&255),Q(k,s.total_in>>16&255),Q(k,s.total_in>>24&255)):(K(k,s.adler>>>16),K(k,65535&s.adler)),O(s),0<k.wrap&&(k.wrap=-k.wrap),k.pending!==0?c:1)},a.deflateEnd=function(s){var L;return s&&s.state?(L=s.state.status)!==x&&L!==69&&L!==73&&L!==91&&L!==103&&L!==N&&L!==666?V(s,p):(s.state=null,L===N?V(s,-3):c):p},a.deflateSetDictionary=function(s,L){var B,k,w,E,W,Z,z,G,X=L.length;if(!s||!s.state||(E=(B=s.state).wrap)===2||E===1&&B.status!==x||B.lookahead)return p;for(E===1&&(s.adler=f(s.adler,L,X,0)),B.wrap=0,X>=B.w_size&&(E===0&&(Y(B.head),B.strstart=0,B.block_start=0,B.insert=0),G=new o.Buf8(B.w_size),o.arraySet(G,L,X-B.w_size,B.w_size,0),L=G,X=B.w_size),W=s.avail_in,Z=s.next_in,z=s.input,s.avail_in=X,s.next_in=0,s.input=L,ft(B);B.lookahead>=T;){for(k=B.strstart,w=B.lookahead-(T-1);B.ins_h=(B.ins_h<<B.hash_shift^B.window[k+T-1])&B.hash_mask,B.prev[k&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=k,k++,--w;);B.strstart=k,B.lookahead=T-1,ft(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=T-1,B.match_available=0,s.next_in=Z,s.input=z,s.avail_in=W,B.wrap=E,c},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,l,a){l.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,l,a){l.exports=function(i,o){var n,f,h,b,v,m,c,p,d,g,_,y,S,C,A,F,R,M,T,q,J,x,N,u,U;n=i.state,f=i.next_in,u=i.input,h=f+(i.avail_in-5),b=i.next_out,U=i.output,v=b-(o-i.avail_out),m=b+(i.avail_out-257),c=n.dmax,p=n.wsize,d=n.whave,g=n.wnext,_=n.window,y=n.hold,S=n.bits,C=n.lencode,A=n.distcode,F=(1<<n.lenbits)-1,R=(1<<n.distbits)-1;t:do{S<15&&(y+=u[f++]<<S,S+=8,y+=u[f++]<<S,S+=8),M=C[y&F];e:for(;;){if(y>>>=T=M>>>24,S-=T,(T=M>>>16&255)===0)U[b++]=65535&M;else{if(!(16&T)){if((64&T)==0){M=C[(65535&M)+(y&(1<<T)-1)];continue e}if(32&T){n.mode=12;break t}i.msg="invalid literal/length code",n.mode=30;break t}q=65535&M,(T&=15)&&(S<T&&(y+=u[f++]<<S,S+=8),q+=y&(1<<T)-1,y>>>=T,S-=T),S<15&&(y+=u[f++]<<S,S+=8,y+=u[f++]<<S,S+=8),M=A[y&R];r:for(;;){if(y>>>=T=M>>>24,S-=T,!(16&(T=M>>>16&255))){if((64&T)==0){M=A[(65535&M)+(y&(1<<T)-1)];continue r}i.msg="invalid distance code",n.mode=30;break t}if(J=65535&M,S<(T&=15)&&(y+=u[f++]<<S,(S+=8)<T&&(y+=u[f++]<<S,S+=8)),c<(J+=y&(1<<T)-1)){i.msg="invalid distance too far back",n.mode=30;break t}if(y>>>=T,S-=T,(T=b-v)<J){if(d<(T=J-T)&&n.sane){i.msg="invalid distance too far back",n.mode=30;break t}if(N=_,(x=0)===g){if(x+=p-T,T<q){for(q-=T;U[b++]=_[x++],--T;);x=b-J,N=U}}else if(g<T){if(x+=p+g-T,(T-=g)<q){for(q-=T;U[b++]=_[x++],--T;);if(x=0,g<q){for(q-=T=g;U[b++]=_[x++],--T;);x=b-J,N=U}}}else if(x+=g-T,T<q){for(q-=T;U[b++]=_[x++],--T;);x=b-J,N=U}for(;2<q;)U[b++]=N[x++],U[b++]=N[x++],U[b++]=N[x++],q-=3;q&&(U[b++]=N[x++],1<q&&(U[b++]=N[x++]))}else{for(x=b-J;U[b++]=U[x++],U[b++]=U[x++],U[b++]=U[x++],2<(q-=3););q&&(U[b++]=U[x++],1<q&&(U[b++]=U[x++]))}break}}break}}while(f<h&&b<m);f-=q=S>>3,y&=(1<<(S-=q<<3))-1,i.next_in=f,i.next_out=b,i.avail_in=f<h?h-f+5:5-(f-h),i.avail_out=b<m?m-b+257:257-(b-m),n.hold=y,n.bits=S}},{}],49:[function(t,l,a){var i=t("../utils/common"),o=t("./adler32"),n=t("./crc32"),f=t("./inffast"),h=t("./inftrees"),b=1,v=2,m=0,c=-2,p=1,d=852,g=592;function _(x){return(x>>>24&255)+(x>>>8&65280)+((65280&x)<<8)+((255&x)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function S(x){var N;return x&&x.state?(N=x.state,x.total_in=x.total_out=N.total=0,x.msg="",N.wrap&&(x.adler=1&N.wrap),N.mode=p,N.last=0,N.havedict=0,N.dmax=32768,N.head=null,N.hold=0,N.bits=0,N.lencode=N.lendyn=new i.Buf32(d),N.distcode=N.distdyn=new i.Buf32(g),N.sane=1,N.back=-1,m):c}function C(x){var N;return x&&x.state?((N=x.state).wsize=0,N.whave=0,N.wnext=0,S(x)):c}function A(x,N){var u,U;return x&&x.state?(U=x.state,N<0?(u=0,N=-N):(u=1+(N>>4),N<48&&(N&=15)),N&&(N<8||15<N)?c:(U.window!==null&&U.wbits!==N&&(U.window=null),U.wrap=u,U.wbits=N,C(x))):c}function F(x,N){var u,U;return x?(U=new y,(x.state=U).window=null,(u=A(x,N))!==m&&(x.state=null),u):c}var R,M,T=!0;function q(x){if(T){var N;for(R=new i.Buf32(512),M=new i.Buf32(32),N=0;N<144;)x.lens[N++]=8;for(;N<256;)x.lens[N++]=9;for(;N<280;)x.lens[N++]=7;for(;N<288;)x.lens[N++]=8;for(h(b,x.lens,0,288,R,0,x.work,{bits:9}),N=0;N<32;)x.lens[N++]=5;h(v,x.lens,0,32,M,0,x.work,{bits:5}),T=!1}x.lencode=R,x.lenbits=9,x.distcode=M,x.distbits=5}function J(x,N,u,U){var tt,P=x.state;return P.window===null&&(P.wsize=1<<P.wbits,P.wnext=0,P.whave=0,P.window=new i.Buf8(P.wsize)),U>=P.wsize?(i.arraySet(P.window,N,u-P.wsize,P.wsize,0),P.wnext=0,P.whave=P.wsize):(U<(tt=P.wsize-P.wnext)&&(tt=U),i.arraySet(P.window,N,u-U,tt,P.wnext),(U-=tt)?(i.arraySet(P.window,N,u-U,U,0),P.wnext=U,P.whave=P.wsize):(P.wnext+=tt,P.wnext===P.wsize&&(P.wnext=0),P.whave<P.wsize&&(P.whave+=tt))),0}a.inflateReset=C,a.inflateReset2=A,a.inflateResetKeep=S,a.inflateInit=function(x){return F(x,15)},a.inflateInit2=F,a.inflate=function(x,N){var u,U,tt,P,V,j,Y,O,I,Q,K,H,ft,pt,rt,nt,ut,ct,At,Ct,s,L,B,k,w=0,E=new i.Buf8(4),W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!x||!x.state||!x.output||!x.input&&x.avail_in!==0)return c;(u=x.state).mode===12&&(u.mode=13),V=x.next_out,tt=x.output,Y=x.avail_out,P=x.next_in,U=x.input,j=x.avail_in,O=u.hold,I=u.bits,Q=j,K=Y,L=m;t:for(;;)switch(u.mode){case p:if(u.wrap===0){u.mode=13;break}for(;I<16;){if(j===0)break t;j--,O+=U[P++]<<I,I+=8}if(2&u.wrap&&O===35615){E[u.check=0]=255&O,E[1]=O>>>8&255,u.check=n(u.check,E,2,0),I=O=0,u.mode=2;break}if(u.flags=0,u.head&&(u.head.done=!1),!(1&u.wrap)||(((255&O)<<8)+(O>>8))%31){x.msg="incorrect header check",u.mode=30;break}if((15&O)!=8){x.msg="unknown compression method",u.mode=30;break}if(I-=4,s=8+(15&(O>>>=4)),u.wbits===0)u.wbits=s;else if(s>u.wbits){x.msg="invalid window size",u.mode=30;break}u.dmax=1<<s,x.adler=u.check=1,u.mode=512&O?10:12,I=O=0;break;case 2:for(;I<16;){if(j===0)break t;j--,O+=U[P++]<<I,I+=8}if(u.flags=O,(255&u.flags)!=8){x.msg="unknown compression method",u.mode=30;break}if(57344&u.flags){x.msg="unknown header flags set",u.mode=30;break}u.head&&(u.head.text=O>>8&1),512&u.flags&&(E[0]=255&O,E[1]=O>>>8&255,u.check=n(u.check,E,2,0)),I=O=0,u.mode=3;case 3:for(;I<32;){if(j===0)break t;j--,O+=U[P++]<<I,I+=8}u.head&&(u.head.time=O),512&u.flags&&(E[0]=255&O,E[1]=O>>>8&255,E[2]=O>>>16&255,E[3]=O>>>24&255,u.check=n(u.check,E,4,0)),I=O=0,u.mode=4;case 4:for(;I<16;){if(j===0)break t;j--,O+=U[P++]<<I,I+=8}u.head&&(u.head.xflags=255&O,u.head.os=O>>8),512&u.flags&&(E[0]=255&O,E[1]=O>>>8&255,u.check=n(u.check,E,2,0)),I=O=0,u.mode=5;case 5:if(1024&u.flags){for(;I<16;){if(j===0)break t;j--,O+=U[P++]<<I,I+=8}u.length=O,u.head&&(u.head.extra_len=O),512&u.flags&&(E[0]=255&O,E[1]=O>>>8&255,u.check=n(u.check,E,2,0)),I=O=0}else u.head&&(u.head.extra=null);u.mode=6;case 6:if(1024&u.flags&&(j<(H=u.length)&&(H=j),H&&(u.head&&(s=u.head.extra_len-u.length,u.head.extra||(u.head.extra=new Array(u.head.extra_len)),i.arraySet(u.head.extra,U,P,H,s)),512&u.flags&&(u.check=n(u.check,U,H,P)),j-=H,P+=H,u.length-=H),u.length))break t;u.length=0,u.mode=7;case 7:if(2048&u.flags){if(j===0)break t;for(H=0;s=U[P+H++],u.head&&s&&u.length<65536&&(u.head.name+=String.fromCharCode(s)),s&&H<j;);if(512&u.flags&&(u.check=n(u.check,U,H,P)),j-=H,P+=H,s)break t}else u.head&&(u.head.name=null);u.length=0,u.mode=8;case 8:if(4096&u.flags){if(j===0)break t;for(H=0;s=U[P+H++],u.head&&s&&u.length<65536&&(u.head.comment+=String.fromCharCode(s)),s&&H<j;);if(512&u.flags&&(u.check=n(u.check,U,H,P)),j-=H,P+=H,s)break t}else u.head&&(u.head.comment=null);u.mode=9;case 9:if(512&u.flags){for(;I<16;){if(j===0)break t;j--,O+=U[P++]<<I,I+=8}if(O!==(65535&u.check)){x.msg="header crc mismatch",u.mode=30;break}I=O=0}u.head&&(u.head.hcrc=u.flags>>9&1,u.head.done=!0),x.adler=u.check=0,u.mode=12;break;case 10:for(;I<32;){if(j===0)break t;j--,O+=U[P++]<<I,I+=8}x.adler=u.check=_(O),I=O=0,u.mode=11;case 11:if(u.havedict===0)return x.next_out=V,x.avail_out=Y,x.next_in=P,x.avail_in=j,u.hold=O,u.bits=I,2;x.adler=u.check=1,u.mode=12;case 12:if(N===5||N===6)break t;case 13:if(u.last){O>>>=7&I,I-=7&I,u.mode=27;break}for(;I<3;){if(j===0)break t;j--,O+=U[P++]<<I,I+=8}switch(u.last=1&O,I-=1,3&(O>>>=1)){case 0:u.mode=14;break;case 1:if(q(u),u.mode=20,N!==6)break;O>>>=2,I-=2;break t;case 2:u.mode=17;break;case 3:x.msg="invalid block type",u.mode=30}O>>>=2,I-=2;break;case 14:for(O>>>=7&I,I-=7&I;I<32;){if(j===0)break t;j--,O+=U[P++]<<I,I+=8}if((65535&O)!=(O>>>16^65535)){x.msg="invalid stored block lengths",u.mode=30;break}if(u.length=65535&O,I=O=0,u.mode=15,N===6)break t;case 15:u.mode=16;case 16:if(H=u.length){if(j<H&&(H=j),Y<H&&(H=Y),H===0)break t;i.arraySet(tt,U,P,H,V),j-=H,P+=H,Y-=H,V+=H,u.length-=H;break}u.mode=12;break;case 17:for(;I<14;){if(j===0)break t;j--,O+=U[P++]<<I,I+=8}if(u.nlen=257+(31&O),O>>>=5,I-=5,u.ndist=1+(31&O),O>>>=5,I-=5,u.ncode=4+(15&O),O>>>=4,I-=4,286<u.nlen||30<u.ndist){x.msg="too many length or distance symbols",u.mode=30;break}u.have=0,u.mode=18;case 18:for(;u.have<u.ncode;){for(;I<3;){if(j===0)break t;j--,O+=U[P++]<<I,I+=8}u.lens[W[u.have++]]=7&O,O>>>=3,I-=3}for(;u.have<19;)u.lens[W[u.have++]]=0;if(u.lencode=u.lendyn,u.lenbits=7,B={bits:u.lenbits},L=h(0,u.lens,0,19,u.lencode,0,u.work,B),u.lenbits=B.bits,L){x.msg="invalid code lengths set",u.mode=30;break}u.have=0,u.mode=19;case 19:for(;u.have<u.nlen+u.ndist;){for(;nt=(w=u.lencode[O&(1<<u.lenbits)-1])>>>16&255,ut=65535&w,!((rt=w>>>24)<=I);){if(j===0)break t;j--,O+=U[P++]<<I,I+=8}if(ut<16)O>>>=rt,I-=rt,u.lens[u.have++]=ut;else{if(ut===16){for(k=rt+2;I<k;){if(j===0)break t;j--,O+=U[P++]<<I,I+=8}if(O>>>=rt,I-=rt,u.have===0){x.msg="invalid bit length repeat",u.mode=30;break}s=u.lens[u.have-1],H=3+(3&O),O>>>=2,I-=2}else if(ut===17){for(k=rt+3;I<k;){if(j===0)break t;j--,O+=U[P++]<<I,I+=8}I-=rt,s=0,H=3+(7&(O>>>=rt)),O>>>=3,I-=3}else{for(k=rt+7;I<k;){if(j===0)break t;j--,O+=U[P++]<<I,I+=8}I-=rt,s=0,H=11+(127&(O>>>=rt)),O>>>=7,I-=7}if(u.have+H>u.nlen+u.ndist){x.msg="invalid bit length repeat",u.mode=30;break}for(;H--;)u.lens[u.have++]=s}}if(u.mode===30)break;if(u.lens[256]===0){x.msg="invalid code -- missing end-of-block",u.mode=30;break}if(u.lenbits=9,B={bits:u.lenbits},L=h(b,u.lens,0,u.nlen,u.lencode,0,u.work,B),u.lenbits=B.bits,L){x.msg="invalid literal/lengths set",u.mode=30;break}if(u.distbits=6,u.distcode=u.distdyn,B={bits:u.distbits},L=h(v,u.lens,u.nlen,u.ndist,u.distcode,0,u.work,B),u.distbits=B.bits,L){x.msg="invalid distances set",u.mode=30;break}if(u.mode=20,N===6)break t;case 20:u.mode=21;case 21:if(6<=j&&258<=Y){x.next_out=V,x.avail_out=Y,x.next_in=P,x.avail_in=j,u.hold=O,u.bits=I,f(x,K),V=x.next_out,tt=x.output,Y=x.avail_out,P=x.next_in,U=x.input,j=x.avail_in,O=u.hold,I=u.bits,u.mode===12&&(u.back=-1);break}for(u.back=0;nt=(w=u.lencode[O&(1<<u.lenbits)-1])>>>16&255,ut=65535&w,!((rt=w>>>24)<=I);){if(j===0)break t;j--,O+=U[P++]<<I,I+=8}if(nt&&(240&nt)==0){for(ct=rt,At=nt,Ct=ut;nt=(w=u.lencode[Ct+((O&(1<<ct+At)-1)>>ct)])>>>16&255,ut=65535&w,!(ct+(rt=w>>>24)<=I);){if(j===0)break t;j--,O+=U[P++]<<I,I+=8}O>>>=ct,I-=ct,u.back+=ct}if(O>>>=rt,I-=rt,u.back+=rt,u.length=ut,nt===0){u.mode=26;break}if(32&nt){u.back=-1,u.mode=12;break}if(64&nt){x.msg="invalid literal/length code",u.mode=30;break}u.extra=15&nt,u.mode=22;case 22:if(u.extra){for(k=u.extra;I<k;){if(j===0)break t;j--,O+=U[P++]<<I,I+=8}u.length+=O&(1<<u.extra)-1,O>>>=u.extra,I-=u.extra,u.back+=u.extra}u.was=u.length,u.mode=23;case 23:for(;nt=(w=u.distcode[O&(1<<u.distbits)-1])>>>16&255,ut=65535&w,!((rt=w>>>24)<=I);){if(j===0)break t;j--,O+=U[P++]<<I,I+=8}if((240&nt)==0){for(ct=rt,At=nt,Ct=ut;nt=(w=u.distcode[Ct+((O&(1<<ct+At)-1)>>ct)])>>>16&255,ut=65535&w,!(ct+(rt=w>>>24)<=I);){if(j===0)break t;j--,O+=U[P++]<<I,I+=8}O>>>=ct,I-=ct,u.back+=ct}if(O>>>=rt,I-=rt,u.back+=rt,64&nt){x.msg="invalid distance code",u.mode=30;break}u.offset=ut,u.extra=15&nt,u.mode=24;case 24:if(u.extra){for(k=u.extra;I<k;){if(j===0)break t;j--,O+=U[P++]<<I,I+=8}u.offset+=O&(1<<u.extra)-1,O>>>=u.extra,I-=u.extra,u.back+=u.extra}if(u.offset>u.dmax){x.msg="invalid distance too far back",u.mode=30;break}u.mode=25;case 25:if(Y===0)break t;if(H=K-Y,u.offset>H){if((H=u.offset-H)>u.whave&&u.sane){x.msg="invalid distance too far back",u.mode=30;break}ft=H>u.wnext?(H-=u.wnext,u.wsize-H):u.wnext-H,H>u.length&&(H=u.length),pt=u.window}else pt=tt,ft=V-u.offset,H=u.length;for(Y<H&&(H=Y),Y-=H,u.length-=H;tt[V++]=pt[ft++],--H;);u.length===0&&(u.mode=21);break;case 26:if(Y===0)break t;tt[V++]=u.length,Y--,u.mode=21;break;case 27:if(u.wrap){for(;I<32;){if(j===0)break t;j--,O|=U[P++]<<I,I+=8}if(K-=Y,x.total_out+=K,u.total+=K,K&&(x.adler=u.check=u.flags?n(u.check,tt,K,V-K):o(u.check,tt,K,V-K)),K=Y,(u.flags?O:_(O))!==u.check){x.msg="incorrect data check",u.mode=30;break}I=O=0}u.mode=28;case 28:if(u.wrap&&u.flags){for(;I<32;){if(j===0)break t;j--,O+=U[P++]<<I,I+=8}if(O!==(4294967295&u.total)){x.msg="incorrect length check",u.mode=30;break}I=O=0}u.mode=29;case 29:L=1;break t;case 30:L=-3;break t;case 31:return-4;default:return c}return x.next_out=V,x.avail_out=Y,x.next_in=P,x.avail_in=j,u.hold=O,u.bits=I,(u.wsize||K!==x.avail_out&&u.mode<30&&(u.mode<27||N!==4))&&J(x,x.output,x.next_out,K-x.avail_out)?(u.mode=31,-4):(Q-=x.avail_in,K-=x.avail_out,x.total_in+=Q,x.total_out+=K,u.total+=K,u.wrap&&K&&(x.adler=u.check=u.flags?n(u.check,tt,K,x.next_out-K):o(u.check,tt,K,x.next_out-K)),x.data_type=u.bits+(u.last?64:0)+(u.mode===12?128:0)+(u.mode===20||u.mode===15?256:0),(Q==0&&K===0||N===4)&&L===m&&(L=-5),L)},a.inflateEnd=function(x){if(!x||!x.state)return c;var N=x.state;return N.window&&(N.window=null),x.state=null,m},a.inflateGetHeader=function(x,N){var u;return x&&x.state?(2&(u=x.state).wrap)==0?c:((u.head=N).done=!1,m):c},a.inflateSetDictionary=function(x,N){var u,U=N.length;return x&&x.state?(u=x.state).wrap!==0&&u.mode!==11?c:u.mode===11&&o(1,N,U,0)!==u.check?-3:J(x,N,U,U)?(u.mode=31,-4):(u.havedict=1,m):c},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,l,a){var i=t("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],n=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];l.exports=function(b,v,m,c,p,d,g,_){var y,S,C,A,F,R,M,T,q,J=_.bits,x=0,N=0,u=0,U=0,tt=0,P=0,V=0,j=0,Y=0,O=0,I=null,Q=0,K=new i.Buf16(16),H=new i.Buf16(16),ft=null,pt=0;for(x=0;x<=15;x++)K[x]=0;for(N=0;N<c;N++)K[v[m+N]]++;for(tt=J,U=15;1<=U&&K[U]===0;U--);if(U<tt&&(tt=U),U===0)return p[d++]=20971520,p[d++]=20971520,_.bits=1,0;for(u=1;u<U&&K[u]===0;u++);for(tt<u&&(tt=u),x=j=1;x<=15;x++)if(j<<=1,(j-=K[x])<0)return-1;if(0<j&&(b===0||U!==1))return-1;for(H[1]=0,x=1;x<15;x++)H[x+1]=H[x]+K[x];for(N=0;N<c;N++)v[m+N]!==0&&(g[H[v[m+N]]++]=N);if(R=b===0?(I=ft=g,19):b===1?(I=o,Q-=257,ft=n,pt-=257,256):(I=f,ft=h,-1),x=u,F=d,V=N=O=0,C=-1,A=(Y=1<<(P=tt))-1,b===1&&852<Y||b===2&&592<Y)return 1;for(;;){for(M=x-V,q=g[N]<R?(T=0,g[N]):g[N]>R?(T=ft[pt+g[N]],I[Q+g[N]]):(T=96,0),y=1<<x-V,u=S=1<<P;p[F+(O>>V)+(S-=y)]=M<<24|T<<16|q|0,S!==0;);for(y=1<<x-1;O&y;)y>>=1;if(y!==0?(O&=y-1,O+=y):O=0,N++,--K[x]==0){if(x===U)break;x=v[m+g[N]]}if(tt<x&&(O&A)!==C){for(V===0&&(V=tt),F+=u,j=1<<(P=x-V);P+V<U&&!((j-=K[P+V])<=0);)P++,j<<=1;if(Y+=1<<P,b===1&&852<Y||b===2&&592<Y)return 1;p[C=O&A]=tt<<24|P<<16|F-d|0}}return O!==0&&(p[F+O]=x-V<<24|64<<16|0),_.bits=tt,0}},{"../utils/common":41}],51:[function(t,l,a){l.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,l,a){var i=t("../utils/common"),o=0,n=1;function f(w){for(var E=w.length;0<=--E;)w[E]=0}var h=0,b=29,v=256,m=v+1+b,c=30,p=19,d=2*m+1,g=15,_=16,y=7,S=256,C=16,A=17,F=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=new Array(2*(m+2));f(J);var x=new Array(2*c);f(x);var N=new Array(512);f(N);var u=new Array(256);f(u);var U=new Array(b);f(U);var tt,P,V,j=new Array(c);function Y(w,E,W,Z,z){this.static_tree=w,this.extra_bits=E,this.extra_base=W,this.elems=Z,this.max_length=z,this.has_stree=w&&w.length}function O(w,E){this.dyn_tree=w,this.max_code=0,this.stat_desc=E}function I(w){return w<256?N[w]:N[256+(w>>>7)]}function Q(w,E){w.pending_buf[w.pending++]=255&E,w.pending_buf[w.pending++]=E>>>8&255}function K(w,E,W){w.bi_valid>_-W?(w.bi_buf|=E<<w.bi_valid&65535,Q(w,w.bi_buf),w.bi_buf=E>>_-w.bi_valid,w.bi_valid+=W-_):(w.bi_buf|=E<<w.bi_valid&65535,w.bi_valid+=W)}function H(w,E,W){K(w,W[2*E],W[2*E+1])}function ft(w,E){for(var W=0;W|=1&w,w>>>=1,W<<=1,0<--E;);return W>>>1}function pt(w,E,W){var Z,z,G=new Array(g+1),X=0;for(Z=1;Z<=g;Z++)G[Z]=X=X+W[Z-1]<<1;for(z=0;z<=E;z++){var $=w[2*z+1];$!==0&&(w[2*z]=ft(G[$]++,$))}}function rt(w){var E;for(E=0;E<m;E++)w.dyn_ltree[2*E]=0;for(E=0;E<c;E++)w.dyn_dtree[2*E]=0;for(E=0;E<p;E++)w.bl_tree[2*E]=0;w.dyn_ltree[2*S]=1,w.opt_len=w.static_len=0,w.last_lit=w.matches=0}function nt(w){8<w.bi_valid?Q(w,w.bi_buf):0<w.bi_valid&&(w.pending_buf[w.pending++]=w.bi_buf),w.bi_buf=0,w.bi_valid=0}function ut(w,E,W,Z){var z=2*E,G=2*W;return w[z]<w[G]||w[z]===w[G]&&Z[E]<=Z[W]}function ct(w,E,W){for(var Z=w.heap[W],z=W<<1;z<=w.heap_len&&(z<w.heap_len&&ut(E,w.heap[z+1],w.heap[z],w.depth)&&z++,!ut(E,Z,w.heap[z],w.depth));)w.heap[W]=w.heap[z],W=z,z<<=1;w.heap[W]=Z}function At(w,E,W){var Z,z,G,X,$=0;if(w.last_lit!==0)for(;Z=w.pending_buf[w.d_buf+2*$]<<8|w.pending_buf[w.d_buf+2*$+1],z=w.pending_buf[w.l_buf+$],$++,Z===0?H(w,z,E):(H(w,(G=u[z])+v+1,E),(X=R[G])!==0&&K(w,z-=U[G],X),H(w,G=I(--Z),W),(X=M[G])!==0&&K(w,Z-=j[G],X)),$<w.last_lit;);H(w,S,E)}function Ct(w,E){var W,Z,z,G=E.dyn_tree,X=E.stat_desc.static_tree,$=E.stat_desc.has_stree,et=E.stat_desc.elems,dt=-1;for(w.heap_len=0,w.heap_max=d,W=0;W<et;W++)G[2*W]!==0?(w.heap[++w.heap_len]=dt=W,w.depth[W]=0):G[2*W+1]=0;for(;w.heap_len<2;)G[2*(z=w.heap[++w.heap_len]=dt<2?++dt:0)]=1,w.depth[z]=0,w.opt_len--,$&&(w.static_len-=X[2*z+1]);for(E.max_code=dt,W=w.heap_len>>1;1<=W;W--)ct(w,G,W);for(z=et;W=w.heap[1],w.heap[1]=w.heap[w.heap_len--],ct(w,G,1),Z=w.heap[1],w.heap[--w.heap_max]=W,w.heap[--w.heap_max]=Z,G[2*z]=G[2*W]+G[2*Z],w.depth[z]=(w.depth[W]>=w.depth[Z]?w.depth[W]:w.depth[Z])+1,G[2*W+1]=G[2*Z+1]=z,w.heap[1]=z++,ct(w,G,1),2<=w.heap_len;);w.heap[--w.heap_max]=w.heap[1],(function(st,Dt){var De,jt,Ne,gt,Ge,pr,Gt=Dt.dyn_tree,qr=Dt.max_code,ei=Dt.stat_desc.static_tree,ri=Dt.stat_desc.has_stree,ni=Dt.stat_desc.extra_bits,Hr=Dt.stat_desc.extra_base,Pe=Dt.stat_desc.max_length,$e=0;for(gt=0;gt<=g;gt++)st.bl_count[gt]=0;for(Gt[2*st.heap[st.heap_max]+1]=0,De=st.heap_max+1;De<d;De++)Pe<(gt=Gt[2*Gt[2*(jt=st.heap[De])+1]+1]+1)&&(gt=Pe,$e++),Gt[2*jt+1]=gt,qr<jt||(st.bl_count[gt]++,Ge=0,Hr<=jt&&(Ge=ni[jt-Hr]),pr=Gt[2*jt],st.opt_len+=pr*(gt+Ge),ri&&(st.static_len+=pr*(ei[2*jt+1]+Ge)));if($e!==0){do{for(gt=Pe-1;st.bl_count[gt]===0;)gt--;st.bl_count[gt]--,st.bl_count[gt+1]+=2,st.bl_count[Pe]--,$e-=2}while(0<$e);for(gt=Pe;gt!==0;gt--)for(jt=st.bl_count[gt];jt!==0;)qr<(Ne=st.heap[--De])||(Gt[2*Ne+1]!==gt&&(st.opt_len+=(gt-Gt[2*Ne+1])*Gt[2*Ne],Gt[2*Ne+1]=gt),jt--)}})(w,E),pt(G,dt,w.bl_count)}function s(w,E,W){var Z,z,G=-1,X=E[1],$=0,et=7,dt=4;for(X===0&&(et=138,dt=3),E[2*(W+1)+1]=65535,Z=0;Z<=W;Z++)z=X,X=E[2*(Z+1)+1],++$<et&&z===X||($<dt?w.bl_tree[2*z]+=$:z!==0?(z!==G&&w.bl_tree[2*z]++,w.bl_tree[2*C]++):$<=10?w.bl_tree[2*A]++:w.bl_tree[2*F]++,G=z,dt=($=0)===X?(et=138,3):z===X?(et=6,3):(et=7,4))}function L(w,E,W){var Z,z,G=-1,X=E[1],$=0,et=7,dt=4;for(X===0&&(et=138,dt=3),Z=0;Z<=W;Z++)if(z=X,X=E[2*(Z+1)+1],!(++$<et&&z===X)){if($<dt)for(;H(w,z,w.bl_tree),--$!=0;);else z!==0?(z!==G&&(H(w,z,w.bl_tree),$--),H(w,C,w.bl_tree),K(w,$-3,2)):$<=10?(H(w,A,w.bl_tree),K(w,$-3,3)):(H(w,F,w.bl_tree),K(w,$-11,7));G=z,dt=($=0)===X?(et=138,3):z===X?(et=6,3):(et=7,4)}}f(j);var B=!1;function k(w,E,W,Z){K(w,(h<<1)+(Z?1:0),3),(function(z,G,X,$){nt(z),Q(z,X),Q(z,~X),i.arraySet(z.pending_buf,z.window,G,X,z.pending),z.pending+=X})(w,E,W)}a._tr_init=function(w){B||((function(){var E,W,Z,z,G,X=new Array(g+1);for(z=Z=0;z<b-1;z++)for(U[z]=Z,E=0;E<1<<R[z];E++)u[Z++]=z;for(u[Z-1]=z,z=G=0;z<16;z++)for(j[z]=G,E=0;E<1<<M[z];E++)N[G++]=z;for(G>>=7;z<c;z++)for(j[z]=G<<7,E=0;E<1<<M[z]-7;E++)N[256+G++]=z;for(W=0;W<=g;W++)X[W]=0;for(E=0;E<=143;)J[2*E+1]=8,E++,X[8]++;for(;E<=255;)J[2*E+1]=9,E++,X[9]++;for(;E<=279;)J[2*E+1]=7,E++,X[7]++;for(;E<=287;)J[2*E+1]=8,E++,X[8]++;for(pt(J,m+1,X),E=0;E<c;E++)x[2*E+1]=5,x[2*E]=ft(E,5);tt=new Y(J,R,v+1,m,g),P=new Y(x,M,0,c,g),V=new Y(new Array(0),T,0,p,y)})(),B=!0),w.l_desc=new O(w.dyn_ltree,tt),w.d_desc=new O(w.dyn_dtree,P),w.bl_desc=new O(w.bl_tree,V),w.bi_buf=0,w.bi_valid=0,rt(w)},a._tr_stored_block=k,a._tr_flush_block=function(w,E,W,Z){var z,G,X=0;0<w.level?(w.strm.data_type===2&&(w.strm.data_type=(function($){var et,dt=4093624447;for(et=0;et<=31;et++,dt>>>=1)if(1&dt&&$.dyn_ltree[2*et]!==0)return o;if($.dyn_ltree[18]!==0||$.dyn_ltree[20]!==0||$.dyn_ltree[26]!==0)return n;for(et=32;et<v;et++)if($.dyn_ltree[2*et]!==0)return n;return o})(w)),Ct(w,w.l_desc),Ct(w,w.d_desc),X=(function($){var et;for(s($,$.dyn_ltree,$.l_desc.max_code),s($,$.dyn_dtree,$.d_desc.max_code),Ct($,$.bl_desc),et=p-1;3<=et&&$.bl_tree[2*q[et]+1]===0;et--);return $.opt_len+=3*(et+1)+5+5+4,et})(w),z=w.opt_len+3+7>>>3,(G=w.static_len+3+7>>>3)<=z&&(z=G)):z=G=W+5,W+4<=z&&E!==-1?k(w,E,W,Z):w.strategy===4||G===z?(K(w,2+(Z?1:0),3),At(w,J,x)):(K(w,4+(Z?1:0),3),(function($,et,dt,st){var Dt;for(K($,et-257,5),K($,dt-1,5),K($,st-4,4),Dt=0;Dt<st;Dt++)K($,$.bl_tree[2*q[Dt]+1],3);L($,$.dyn_ltree,et-1),L($,$.dyn_dtree,dt-1)})(w,w.l_desc.max_code+1,w.d_desc.max_code+1,X+1),At(w,w.dyn_ltree,w.dyn_dtree)),rt(w),Z&&nt(w)},a._tr_tally=function(w,E,W){return w.pending_buf[w.d_buf+2*w.last_lit]=E>>>8&255,w.pending_buf[w.d_buf+2*w.last_lit+1]=255&E,w.pending_buf[w.l_buf+w.last_lit]=255&W,w.last_lit++,E===0?w.dyn_ltree[2*W]++:(w.matches++,E--,w.dyn_ltree[2*(u[W]+v+1)]++,w.dyn_dtree[2*I(E)]++),w.last_lit===w.lit_bufsize-1},a._tr_align=function(w){K(w,2,3),H(w,S,J),(function(E){E.bi_valid===16?(Q(E,E.bi_buf),E.bi_buf=0,E.bi_valid=0):8<=E.bi_valid&&(E.pending_buf[E.pending++]=255&E.bi_buf,E.bi_buf>>=8,E.bi_valid-=8)})(w)}},{"../utils/common":41}],53:[function(t,l,a){l.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,l,a){(function(i){(function(o,n){if(!o.setImmediate){var f,h,b,v,m=1,c={},p=!1,d=o.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(o);g=g&&g.setTimeout?g:o,f={}.toString.call(o.process)==="[object process]"?function(C){process.nextTick(function(){y(C)})}:(function(){if(o.postMessage&&!o.importScripts){var C=!0,A=o.onmessage;return o.onmessage=function(){C=!1},o.postMessage("","*"),o.onmessage=A,C}})()?(v="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",S,!1):o.attachEvent("onmessage",S),function(C){o.postMessage(v+C,"*")}):o.MessageChannel?((b=new MessageChannel).port1.onmessage=function(C){y(C.data)},function(C){b.port2.postMessage(C)}):d&&"onreadystatechange"in d.createElement("script")?(h=d.documentElement,function(C){var A=d.createElement("script");A.onreadystatechange=function(){y(C),A.onreadystatechange=null,h.removeChild(A),A=null},h.appendChild(A)}):function(C){setTimeout(y,0,C)},g.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var A=new Array(arguments.length-1),F=0;F<A.length;F++)A[F]=arguments[F+1];var R={callback:C,args:A};return c[m]=R,f(m),m++},g.clearImmediate=_}function _(C){delete c[C]}function y(C){if(p)setTimeout(y,0,C);else{var A=c[C];if(A){p=!0;try{(function(F){var R=F.callback,M=F.args;switch(M.length){case 0:R();break;case 1:R(M[0]);break;case 2:R(M[0],M[1]);break;case 3:R(M[0],M[1],M[2]);break;default:R.apply(n,M)}})(A)}finally{_(C),p=!1}}}}function S(C){C.source===o&&typeof C.data=="string"&&C.data.indexOf(v)===0&&y(+C.data.slice(v.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof Qe<"u"?Qe:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(vr)),vr.exports}var js=Ms();const Ws=Us(js);async function Zs(e){const r=e.name.toLowerCase();if(console.log("Reading uploaded file:",r),r.endsWith(".txt"))return await e.text();if(r.endsWith(".epub"))return await qs(e);throw new Error("Unsupported file. Not .txt/.epub")}async function qs(e){let r=await e.arrayBuffer();r=await Ws.loadAsync(r);const t=r.file("META-INF/container.xml");if(!t)throw new Error("Invalid EPUB: missing container.xml");const l=await t.async("string"),a=$s(l,"rootfile","full-path");if(!a)throw new Error("Invalid EPUB: missing rootfile path");const i=r.file(a);if(!i)throw new Error("Invalid EPUB: missing OPF");const o=await i.async("string"),n={};for(const{id:b,href:v}of Hs(o))n[b]=v;const f=a.split("/").slice(0,-1).join("/"),h=[];for(const b of Gs(o)){const v=n[b];if(!v)continue;const m=f?`${f}/${v}`:v,c=r.file(m);if(!c)continue;const p=await c.async("string");h.push(Ks(p))}return h.join(`

`).trim()}function Hs(e){const r=[],t=/<item[^>]*id="([^"]+)"[^>]*href="([^"]+)"[^>]*>/g;let l;for(;l=t.exec(e);)r.push({id:l[1],href:l[2]});return r}function Gs(e){const r=[],t=/<itemref[^>]*idref="([^"]+)"[^>]*>/g;let l;for(;l=t.exec(e);)r.push(l[1]);return r}function $s(e,r,t){const a=new RegExp(`<${r}[^>]*${t}="([^"]+)"[^>]*>`).exec(e);return a?a[1]:null}function Ks(e){let r=e.replace(/<script[\s\S]*?<\/script>/gi,"").replace(/<style[\s\S]*?<\/style>/gi,"");return r=r.replace(/<\s*br\s*\/?>/gi,`
`),r=r.replace(/<\s*\/(p|div|h\d|li)\s*>/gi,`
`),r=r.replace(/<[^>]+>/g,""),r=r.replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'"),r=r.split(/\r?\n/).map(t=>t.trim()).filter(t=>t.length>0).join(`
`),r}function pn(e,r){const t=r-e,a=Math.ceil(t/300);return a<=1?"1 min read":a>60?Math.ceil(a/60)+" hours read":a+" mins read"}var Vs=ae('<div><div class="info f-col g5 w-100 svelte-1n46o8q"><span class="title fw6 p5 svelte-1n46o8q"> </span> <div class="meta f j-bw p5 al-ct svelte-1n46o8q"><span class="date svelte-1n46o8q"> </span> <span class="progress fw5 svelte-1n46o8q"> </span></div></div> <button class="delete ptr svelte-1n46o8q">×</button></div> <progress class="w-100 rx5 d-b svelte-1n46o8q"></progress>',1),Ys=ae('<aside class="sidebar f-col svelte-1n46o8q"><header class="f p20 j-bw al-ct svelte-1n46o8q"><h2 class="m0">Vegapunk</h2> <div class="add-btn rx5 f svelte-1n46o8q"><button class="svelte-1n46o8q"><svg viewBox="0 0 32 32" class="svelte-1n46o8q"><path d="M27 15 L27 30 2 30 2 5 17 5 M30 6 L26 2 9 19 7 25 13 23 Z M22 6 L26 10 Z M9 19 L13 23 Z"></path></svg></button> <input id="file-upload" type="file" class="d-n" accept=".text/*,.md,.markdown,.txt,.epub"/> <label for="file-upload" class="ptr svelte-1n46o8q"><svg viewBox="-2 -2 40 40" class="svelte-1n46o8q"><path d="M6 2 L6 30 26 30 26 10 18 2 Z M18 2 L18 10 26 10"></path></svg></label></div></header> <div class="list svelte-1n46o8q"></div></aside>'),Xs=ae('<div><div> </div> <div class="f g10"><button class="read f al-ct g5 fw6 rx5 svelte-1n46o8q"><!></button> <button class="read f al-ct g5 fw6 rx5 svelte-1n46o8q">Start TTS</button></div></div> <textarea placeholder="Type or paste your content here..." class="svelte-1n46o8q"></textarea>',1),Js=ae('<div class="empty f al-ct j-ct h-100 svelte-1n46o8q">No note selected. Create one to begin.</div>'),Qs=ae('<main><!> <main class="editor f-col svelte-1n46o8q"><!></main></main> <!>',1);function ta(e,r){ur(r,!1);const t=()=>Is(m,"$active",l),[l,a]=zs(),i=xt();let o=je(r,"frameText",8,""),n=xt("none"),f=xt(300),h,b=xt([]),v=xt(null),m=As(null),c=xt(!1),p=null;dr(async()=>{if(at(c,!!o()),D(c)){p={id:"frame",text:o(),lastModified:Date.now(),savedIndex:0},m.set(p);return}h=new Ls,await h.initialize(o()),await d(),D(b).length>0&&(at(v,D(b)[0].id),m.set(D(b)[0])),at(n,"none")});const d=async()=>at(b,await h.getAll());async function g(P=""){if(D(c))return;const V=await h.create(P);await d(),at(v,V.id),m.set(V),at(n,"none")}async function _(P){if(D(c))return;at(v,P);const V=await h.get(P);m.set(V),at(n,"none")}function y(P){const V=P.target.value;if(D(c)){p={...p,text:V,lastModified:Date.now()},m.set(p);return}m.update(Y=>Y?{...Y,text:V,lastModified:Date.now()}:null);let j=null;m.subscribe(Y=>j=Y)(),j&&(at(b,D(b).map(Y=>Y.id===j.id?{...Y,text:V,lastModified:Date.now()}:Y).sort((Y,O)=>O.lastModified-Y.lastModified)),h.update(j.id,V))}async function S(P,V){D(c)||(P.stopPropagation(),confirm("Delete this note?")&&(await h.delete(V),await d(),D(v)===V&&(at(v,D(b)[0]?.id||null),m.set(D(v)?await h.get(D(v)):null),at(n,"none"))))}async function C(P){at(n,"none");const{index:V,wpm:j}=P.detail;at(f,j);let Y=null;if(m.subscribe(O=>Y=O)(),D(c)){p={...p,savedIndex:V},m.set(p);return}Y&&(await h.setSavedIndex(Y.id,V),m.update(O=>O?{...O,savedIndex:V}:null),await d())}function A(P){return P.trim().split(`
`)[0]||"New Note"}async function F(P){if(D(c))return;const V=P.target,j=V.files[0];if(!j)return;Zs(j).then(O=>g(O)).then(()=>V.value="")}Lr(()=>D(b),()=>{at(i,D(b))}),Ur(),Zr();var R=Qs(),M=Fe(R),T=it(M);{var q=P=>{var V=Ys(),j=it(V),Y=_t(it(j),2),O=it(Y),I=_t(O,2),Q=_t(j,2);Vn(Q,5,()=>D(i),K=>K.id,(K,H)=>{var ft=Vs(),pt=Fe(ft);let rt;var nt=it(pt),ut=it(nt),ct=it(ut),At=_t(ut,2),Ct=it(At),s=it(Ct),L=_t(Ct,2),B=it(L),k=_t(nt,2),w=_t(pt,2);Xn(w,"max",100),oe((E,W,Z,z)=>{rt=er(pt,1,"item ptr f j-bw p10 svelte-1n46o8q",null,rt,{active:D(H).id===D(v)}),Et(ct,E),Et(s,W),Et(B,`${Z??""}%`),Ar(w,z)},[()=>(D(H),lt(()=>A(D(H).text))),()=>($t(an),D(H),lt(()=>an(D(H).lastModified))),()=>($t(Ye),D(H),lt(()=>Ye(D(H).text,D(H).savedIndex))),()=>($t(Ye),D(H),lt(()=>Ye(D(H).text,D(H).savedIndex)))]),Rt("click",k,E=>S(E,D(H).id)),Rt("click",pt,()=>_(D(H).id)),Pt(K,ft)}),Rt("click",O,g),Rt("change",I,F),Pt(P,V)};me(T,P=>{D(c)||P(q)})}var J=_t(T,2),x=it(J);{var N=P=>{var V=Xs(),j=Fe(V);let Y;var O=it(j),I=it(O),Q=_t(O,2),K=it(Q),H=it(K);{var ft=ut=>{var ct=Qr();oe(()=>Et(ct,`Word ${t(),lt(()=>t()?.savedIndex)??""} ▶`)),Pt(ut,ct)},pt=ut=>{var ct=Qr("Start RSVP");Pt(ut,ct)};me(H,ut=>{t(),lt(()=>t()?.savedIndex>0)?ut(ft):ut(pt,!1)})}var rt=_t(K,2),nt=_t(j,2);oe((ut,ct,At)=>{Y=er(j,1,"toolbar f al-ct g20 j-bw svelte-1n46o8q",null,Y,{minimal:D(c)}),Et(I,`${ut??""} / ${ct??""} words (${At??""})`),Ar(nt,(t(),lt(()=>t()?.text)))},[()=>($t(Xe),t(),lt(()=>Xe(t()?.savedIndex))),()=>($t(Xe),$t(Je),t(),lt(()=>Xe(Je(t()?.text)))),()=>($t(pn),t(),$t(Je),lt(()=>pn(t()?.savedIndex,Je(t()?.text))))]),Rt("click",K,()=>at(n,"reader")),Rt("click",rt,()=>at(n,"tts")),Rt("input",nt,y),Pt(P,V)},u=P=>{var V=Js();Pt(P,V)};me(x,P=>{t()?P(N):P(u,!1)})}var U=_t(M,2);{var tt=P=>{var V=tn(),j=Fe(V);{var Y=I=>{{let Q=Ee(()=>(t(),lt(()=>t()?.text))),K=Ee(()=>(t(),lt(()=>t()?.savedIndex)));Ds(I,{get text(){return D(Q)},get startIndex(){return D(K)},get wpm(){return D(f)},$$events:{close:C}})}},O=I=>{var Q=tn(),K=Fe(Q);{var H=ft=>{{let pt=Ee(()=>(t(),lt(()=>t()?.text)));Fs(ft,{get data(){return D(pt)}})}};me(K,ft=>{D(n)==="tts"&&ft(H)},!0)}Pt(I,Q)};me(j,I=>{D(n)==="reader"?I(Y):I(O,!1)})}Pt(P,V)};me(U,P=>{D(n)!=="none"&&t()&&P(tt)})}oe(()=>er(M,1,`f ${D(c)?"minimal":""}`,"svelte-1n46o8q")),Pt(e,R),cr(),a()}let ti="";if(window.self!==window.top){let e=JSON.parse(window.name).text;e=decodeURIComponent(e),ti=e}fs(ta,{target:document.getElementById("app"),props:{frameText:ti}});
